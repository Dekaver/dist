import{D as o,G as c,_ as y,r as u,o as f,c as D,b as t,t as r,d as s,k,e as b,f as x,l as P,m as w}from"./index-11eb6111.js";import{a as C}from"./options-b2eb7ae6.js";const l={AP(){return o.get("/dashboard/ap/")},AR(){return o.get("/dashboard/ar/")},Pendapatan(a={}){return o.get(`/dashboard/pendapatan?${c.stringify(a)}`)},Target(a={}){return o.get(`/dashboard/target?${c.stringify(a)}`)},PendapatanTahunan(a){return o.get(`/invoice/yearly?year=${a}`)},ProdukTerlaris(a={}){return o.get(`/dashboard/produk-terlaris?${c.stringify(a)}`)},TotalPiutang(){return o.get("/dashboard/total-piutang")},TotalUang(){return o.get("/dashboard/total-uang")},TotalHutang(){return o.get("/dashboard/total-hutang")},TotalPendapatan(a={}){return o.get(`/dashboard/total-pendapatan?${c.stringify(a)}`)},TotalBeban(a={}){return o.get(`/dashboard/total-beban?${c.stringify(a)}`)},TotalCustomer(){return o.get("/dashboard/total-customer")},TotalProduk(){return o.get("/dashboard/total-produk")}},B={data(){return{lKantor:[],chartData:{labels:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],datasets:[{label:"Pendapatan",data:[],backgroundColor:["rgba(139, 92, 246, 0.2)"],borderColor:["rgba(139, 92, 246, 1)"],borderWidth:1}]},lDataPendapatanBeban:[],lDataPendapatanBeban2:[],tahunPendapatanBeban:new Date,filterPendapatanBeban:{tahun:new Date},chartDataPendapatanBeban:{labels:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],datasets:[{label:"Pendapatan",data:[],backgroundColor:["rgba(34, 202, 236, 0.2)"],borderColor:["rgba(34, 202, 236, 1)"],borderWidth:1},{label:"Beban",data:[],backgroundColor:["rgba(255, 0, 0, 0.2)"],borderColor:["rgba(255, 0, 0, 1)"],borderWidth:1}]},lDataPendapatan:[],lDataPendapatan2:[],chartDataPendapatanTarget:{labels:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],datasets:[{label:"Pendapatan",data:[],backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1},{label:"Target",data:[],backgroundColor:["rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 206, 86, 1)"],borderWidth:1}]},lDataPendapatanTarget:[],tahunPendapatan:new Date,tahunPendapatanTarget:new Date,selectedKantor:null,a:{tahun:new Date},b:{tahun:new Date,kantor:null},c:{tahun:new Date},val1:1,val2:2,orderWeek:[{name:"This Week",code:"0"},{name:"Last Week",code:"1"}],selectedOrderWeek:null,lProdukTerlaris:[],produkTerlarisThisWeek:null,produkTerlarisLastWeek:null,total_hutang:0,total_piutang:0,total_uang:0,total_customer:0,total_produk:0}},mounted(){this.getData()},methods:{changeKantor(a){a.value===null?this.onClearSelection():(this.b.kantor=a.value.id,this.getChartPendapatan())},onClearSelection(){this.b.kantor="",this.getChartPendapatan()},getData(){this.getChartPendapatan(),this.getChartPendapatanTarget(),this.getChartPendapatanBeban(),this.getTotalHutang(),this.getTotalPiutang(),this.getProdukTerlaris(),this.getKantor(),this.getTotalCustomer(),this.getTotalProduk(),this.getTotalUang()},getProdukTerlaris(){let a={tahun:this.$h.formatDate(this.c.tahun,"YYYY")};l.ProdukTerlaris(a).then(e=>{this.lProdukTerlaris=e.data.data,console.log(e.data.data,"asdasda")})},getTotalHutang(){l.TotalHutang().then(a=>{this.total_hutang=a.data.data.sum,console.log(a.data.data,"asdasda")})},getTotalPiutang(){l.TotalPiutang().then(a=>{this.total_piutang=a.data.data.sum})},getTotalUang(){l.TotalUang().then(a=>{this.total_uang=a.data.data.total_balance})},getTotalCustomer(){l.TotalCustomer().then(a=>{this.total_customer=a.data.data.total})},getTotalProduk(){l.TotalProduk().then(a=>{this.total_produk=a.data.data.total})},getKantor(){C.getKantor().then(a=>{this.lKantor=a.data.data,this.lKantor.length==1&&(this.selectedKantor=this.lKantor[0],this.item.id_kantor=this.$route.params.kantor,this.b.kantor=this.item.id_kantor)})},async getChartPendapatan(){let a={tahun:this.$h.formatDate(this.a.tahun,"YYYY")};await l.Pendapatan(a).then(async e=>{this.lDataPendapatan=e.data.data;const h=Object.values(this.lDataPendapatan[0]).map(Number);this.chartData.datasets[0].data=h})},async getChartPendapatanTarget(){let a={tahun:this.$h.formatDate(this.b.tahun,"YYYY"),kantor:this.b.kantor};await l.Pendapatan(a).then(d=>{this.lDataPendapatan2=d.data.data}),await l.Target(a).then(d=>{this.lDataPendapatanTarget=d.data.data});const e=Object.values(this.lDataPendapatan2[0]).map(Number),h=Object.values(this.lDataPendapatanTarget[0]).map(Number);this.chartDataPendapatanTarget.datasets[0].data=e,this.chartDataPendapatanTarget.datasets[1].data=h},async getChartPendapatanBeban(){let a={tahun:this.$h.formatDate(this.filterPendapatanBeban.tahun,"YYYY")};await l.Pendapatan(a).then(d=>{this.lDataPendapatanBeban=d.data.data}),await l.TotalBeban(a).then(d=>{this.lDataPendapatanBeban2=d.data.data});const e=Object.values(this.lDataPendapatanBeban[0]).map(Number),h=Object.values(this.lDataPendapatanBeban2[0]).map(Number);this.chartDataPendapatanBeban.datasets[0].data=e,this.chartDataPendapatanBeban.datasets[1].data=h}}},j={class:"grid"},N={class:"col-12 md:col-6 lg:col-2"},V={class:"surface-card shadow-2 p-3 border-round"},K={class:"flex justify-content-between mb-3"},Y=t("span",{class:"block text-500 font-medium mb-3"},"Total Kas",-1),S={class:"text-900 font-medium text-xl"},O=t("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-money-bill text-orange-500 text-xl"})],-1),W={class:"col-12 md:col-6 lg:col-2"},A={class:"surface-card shadow-2 p-3 border-round"},J={class:"flex justify-content-between mb-3"},U=t("span",{class:"block text-500 font-medium mb-3"},"Total Hutang",-1),$={class:"text-900 font-medium text-xl"},F=t("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-money-bill text-blue-500 text-xl"})],-1),M={class:"col-12 md:col-6 lg:col-2"},H={class:"surface-card shadow-2 p-3 border-round"},L={class:"flex justify-content-between mb-3"},R=t("span",{class:"block text-500 font-medium mb-3"},"Total Piutang",-1),q={class:"text-900 font-medium text-xl"},E=t("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-wallet text-orange-500 text-xl"})],-1),G={class:"col-12 md:col-6 lg:col-2"},z={class:"surface-card shadow-2 p-3 border-round"},I={class:"flex justify-content-between mb-3"},Q=t("span",{class:"block text-500 font-medium mb-3"},"Pelanggan",-1),X={class:"text-900 font-medium text-xl"},Z=t("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-users text-cyan-500 text-xl"})],-1),tt={class:"col-12 md:col-6 lg:col-2"},at={class:"surface-card shadow-2 p-3 border-round"},et={class:"flex justify-content-between mb-3"},nt=t("span",{class:"block text-500 font-medium mb-3"},"Total Produk",-1),ot={class:"text-900 font-medium text-xl"},st=t("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-box text-purple-500 text-xl"})],-1),lt={class:"grid crud-demo"},rt={class:"col-6"},dt={class:"card"},it={class:"grid justify-content-between align-items-center p-4"},ht=t("h4",{class:"m-0"},[t("b",null,"Pendapatan")],-1),ct={class:"m-0"},ut={class:"card"},bt={class:"grid justify-content-between align-items-center p-4"},mt=t("h4",{class:"m-0"},[t("b",null,"Target Pendapatan")],-1),pt={class:"m-0"},gt={class:"flex flex-column"},_t={class:"m-0"},Pt={class:"card"},ft={class:"grid justify-content-between align-items-center p-4"},vt=t("h4",{class:"m-0"},[t("b",null,"Laba Rugi")],-1),Tt={class:"m-0"},yt={class:"col-12 xl:col-6"},Dt={class:"card sales"},kt={class:"grid justify-content-between align-items-center p-4"},xt=t("h4",{class:"m-0"},[t("b",null,"Produk Terlaris")],-1),wt={class:"m-0"},Ct=t("span",{class:"p-column-title"},"No",-1),Bt=t("span",{class:"p-column-title"},"Barang",-1),jt=t("span",{class:"p-column-title"},"Total",-1);function Nt(a,e,h,d,i,p){const m=u("Calendar"),g=u("Chart"),v=u("Dropdown"),_=u("Column"),T=u("DataTable");return f(),D(w,null,[t("div",j,[t("div",N,[t("div",V,[t("div",K,[t("div",null,[Y,t("div",S,"Rp. "+r(a.$h.formatNumber(this.total_uang)),1)]),O])])]),t("div",W,[t("div",A,[t("div",J,[t("div",null,[U,t("div",$,"Rp. "+r(a.$h.formatNumber(this.total_hutang)),1)]),F])])]),t("div",M,[t("div",H,[t("div",L,[t("div",null,[R,t("div",q,"Rp. "+r(a.$h.formatNumber(this.total_piutang)),1)]),E])])]),t("div",G,[t("div",z,[t("div",I,[t("div",null,[Q,t("div",X,r(a.$h.formatNumber(this.total_customer)),1)]),Z])])]),t("div",tt,[t("div",at,[t("div",et,[t("div",null,[nt,t("div",ot,r(a.$h.formatNumber(this.total_produk)),1)]),st])])])]),t("div",lt,[t("div",rt,[t("div",dt,[t("div",it,[ht,t("h4",ct,[t("b",null,[s(m,{view:"year",onDateSelect:p.getChartPendapatan,modelValue:this.a.tahun,"onUpdate:modelValue":e[0]||(e[0]=n=>this.a.tahun=n),dateFormat:"yy"},null,8,["onDateSelect","modelValue"])])])]),s(g,{type:"bar",data:i.chartData,options:a.chartOptions},null,8,["data","options"])]),t("div",ut,[t("div",bt,[mt,t("h4",pt,[t("b",null,[i.lKantor.length>1?(f(),k(v,{key:0,showClear:"",id:"top",modelValue:i.selectedKantor,"onUpdate:modelValue":e[1]||(e[1]=n=>i.selectedKantor=n),options:i.lKantor,optionLabel:"nama",onChange:p.changeKantor},{option:b(n=>[t("div",gt,[t("div",null,r(n.option.nama),1)])]),_:1},8,["modelValue","options","onChange"])):x("",!0)])]),t("h4",_t,[t("b",null,[s(m,{view:"year",onDateSelect:this.getChartPendapatanTarget,modelValue:this.b.tahun,"onUpdate:modelValue":e[2]||(e[2]=n=>this.b.tahun=n),dateFormat:"yy"},null,8,["onDateSelect","modelValue"])])])]),s(g,{type:"bar",data:i.chartDataPendapatanTarget,options:a.chartOptions},null,8,["data","options"])]),t("div",Pt,[t("div",ft,[vt,t("h4",Tt,[t("b",null,[s(m,{view:"year",onDateSelect:this.getChartPendapatanBeban,modelValue:this.filterPendapatanBeban.tahun,"onUpdate:modelValue":e[3]||(e[3]=n=>this.filterPendapatanBeban.tahun=n),dateFormat:"yy"},null,8,["onDateSelect","modelValue"])])])]),s(g,{type:"bar",data:i.chartDataPendapatanBeban,options:a.chartOptions},null,8,["data","options"])])]),t("div",yt,[t("div",Dt,[t("div",kt,[xt,t("h4",wt,[t("b",null,[s(m,{view:"year",onDateSelect:p.getProdukTerlaris,modelValue:this.c.tahun,"onUpdate:modelValue":e[4]||(e[4]=n=>this.c.tahun=n),dateFormat:"yy"},null,8,["onDateSelect","modelValue"])])])]),s(T,{value:i.lProdukTerlaris,paginator:!0,rows:5,responsiveLayout:"scroll"},{default:b(()=>[s(_,{field:"id",header:"No",sortable:!0,style:{"min-width":"7rem"}},{body:b(n=>[Ct,P(" "+r(n.index+1),1)]),_:1}),s(_,{field:"barang",header:"Barang",sortable:!0,style:{"min-width":"12rem"}},{body:b(n=>[Bt,P(" "+r(n.data.nama_barang),1)]),_:1}),s(_,{field:"qty",header:"Kuantitas",sortable:!0,style:{"min-width":"12rem"}},{body:b(n=>[jt,P(" "+r(n.data.total),1)]),_:1})]),_:1},8,["value"])])])])],64)}const Yt=y(B,[["render",Nt]]);export{Yt as default};
