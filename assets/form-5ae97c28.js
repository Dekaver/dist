import{_ as f,a4 as c,r as l,o as g,c as v,b as a,d as n,e as m,l as o}from"./index-11eb6111.js";const P={data(){return{selectedPAndHpp:null,selectPendapatan:null,selectedBulan:null,item:{id:null,persediaan_hpp:null,pendapatan:null,year:null,month:null},lPersediaanAndHpp:[{id:"a",nama:"Gudang"},{id:"b",nama:"Kategori Barang"},{id:"c",nama:"Kombinasi"}],lPendapatan:[{id:"a",nama:"Kantor"},{id:"b",nama:"Kategori Barang"},{id:"c",nama:"Kombinasi"}],lBulan:[{id:1,nama:"Januari"},{id:2,nama:"February"},{id:3,nama:"Maret"},{id:4,nama:"April"},{id:5,nama:"Mei"},{id:6,nama:"Juni"},{id:7,nama:"Juli"},{id:8,nama:"Agustus"},{id:9,nama:"September"},{id:10,nama:"Oktober"},{id:11,nama:"November"},{id:12,nama:"Desember"}],isEdit:!1}},watch:{selectedBulan:function(e){this.getData(e.id,this.item.year)},"item.year":function(e){this.getData(this.item.month,e)}},methods:{getData(){c.index().then(e=>{e.data.data!==void 0?(this.item=e.data.data,this.selectedPAndHpp=this.lPersediaanAndHpp.find(t=>t.id===e.data.data.persediaan_hpp),this.selectPendapatan=this.lPendapatan.find(t=>t.id===e.data.data.pendapatan),this.isEdit=!0):(this.selectedPAndHpp=null,this.selectPendapatan=null,this.isEdit=!1)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message})})},saveData(){try{this.isEdit?c.update(this.item).then(e=>{this.$toast.add({severity:"success",summary:"Success",detail:e.data.message,life:3e3}),this.getData()}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}):(delete this.item.id,c.store({...this.item}).then(e=>{this.$toast.add({severity:"success",summary:"Success",detail:e.data.message,life:3e3}),this.getData()}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}))}catch(e){this.$toast.add({severity:"error",summary:"Failed",detail:e.response.data.message,life:3e3})}},goBack(){this.$router.go(-1)},selectPersediaanHpp(e){this.item.persediaan_hpp=e.value.id},selectPendapatanEvent(e){this.item.pendapatan=e.value.id},selectBulan(e){this.item.month=e.value.id}},mounted(){this.selectedBulan=this.lBulan.find(e=>e.id==new Date().getMonth()+1),this.item.month=this.selectedBulan.id,this.item.year=new Date().getFullYear(),this.getData()}},b={class:"grid crud-demo"},y={class:"col-12"},B={class:"card"},V=a("h5",null,"Setting Akuntansi",-1),D={class:"p-fluid formgrid grid"},x={class:"field col-3"},A=a("label",{for:"bulan",class:"mb-2"},[o("Bulan"),a("small",{class:"text-red-500"},"*")],-1),H={class:"field col-2"},C=a("label",{for:"tahun",class:"mb-2"},[o("Tahun"),a("small",{class:"text-red-500"},"*")],-1),E={class:"p-fluid formgrid grid mt-4"},k=a("div",{class:"field col-12"},null,-1),w={class:"field col-12 md:col-3"},S=a("div",{class:"field col-12"},null,-1),T={class:"field col-12 md:col-3"},j=a("div",{class:"field col-12"},null,-1),K={class:"flex justify-content-left"};function L(e,t,N,U,s,d){const p=l("Toast"),r=l("Dropdown"),h=l("InputText"),u=l("Label"),_=l("Button");return g(),v("div",b,[a("div",y,[a("div",B,[n(p),V,a("div",D,[a("div",x,[A,n(r,{id:"bulan",modelValue:s.selectedBulan,"onUpdate:modelValue":t[0]||(t[0]=i=>s.selectedBulan=i),options:s.lBulan,optionLabel:"nama",onChange:d.selectBulan},null,8,["modelValue","options","onChange"])]),a("div",H,[C,n(h,{id:"tahun",type:"text",modelValue:s.item.year,"onUpdate:modelValue":t[1]||(t[1]=i=>s.item.year=i)},null,8,["modelValue"])])]),a("div",E,[k,a("div",w,[n(u,{for:"persetujuan1"},{default:m(()=>[o("Persediaan Dan HPP")]),_:1}),n(r,{id:"persetujuan1",modelValue:s.selectedPAndHpp,"onUpdate:modelValue":t[2]||(t[2]=i=>s.selectedPAndHpp=i),options:s.lPersediaanAndHpp,optionLabel:"nama",onChange:d.selectPersediaanHpp},null,8,["modelValue","options","onChange"])]),S,a("div",T,[n(u,{for:"persetujuan2"},{default:m(()=>[o("Pendapatan")]),_:1}),n(r,{id:"persetujuan2",modelValue:s.selectPendapatan,"onUpdate:modelValue":t[3]||(t[3]=i=>s.selectPendapatan=i),options:s.lPendapatan,optionLabel:"nama",onChange:d.selectPendapatanEvent},null,8,["modelValue","options","onChange"])]),j]),a("div",K,[n(_,{label:"Save",icon:"pi pi-check",class:"mt-4",type:"button",onClick:d.saveData},null,8,["onClick"])])])])])}const J=f(P,[["render",L]]);export{J as default};
