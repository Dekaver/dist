import{A as _}from"./index-b9e295bc.js";import{a as v}from"./jabatan-a5143f42.js";import{_ as J,R as j,r as h,o,c as r,b as s,d as n,e as p,l as c,f as m}from"./index-11eb6111.js";const g={data(){return{item:{id:void 0,persetujuan1:null,persetujuan2:null,persetujuan3:null,persetujuan4:null,jabatan_persetujuan1:null,jabatan_persetujuan2:null,jabatan_persetujuan3:null,jabatan_persetujuan4:null},lFirstApproval:[{id:null,nama:"Tidak Perlu Persetujuan"},{id:"1",nama:"Atasan Langsung"},{id:"2",nama:"Head Departemen"},{id:"3",nama:"Jabatan Tertentu"}],selectedPersetujuan1:null,selectedJabatan1:null,lSecondApproval:[{id:null,nama:"Dapat Diambil"},{id:"1",nama:"Atasan Langsung 2"},{id:"2",nama:"Head Departemen"},{id:"3",nama:"Jabatan Tertentu"}],selectedPersetujuan2:null,selectedJabatan2:null,lThirdApproval:[{id:null,nama:"Dapat Diambil"},{id:"2",nama:"Head Departemen"},{id:"3",nama:"Jabatan Tertentu"}],selectedPersetujuan3:null,selectedJabatan3:null,lForthApproval:[{id:null,nama:"Dapat Diambil"},{id:"3",nama:"Jabatan Tertentu"}],selectedPersetujuan4:null,selectedJabatan4:null,isEdit:!1}},watch:{"item.persetujuan1":function(a){if(!this.$isLoading.value)switch(a){case null:this.item.jabatan_persetujuan1=null,this.selectedJabatan1=null,this.item.persetujuan2=null;break;case"3":this.selectedJabatan1=null;break;default:this.selectedJabatan1=null,this.selectedPersetujuan2={id:null,nama:"Dapat Diambil"},this.item.persetujuan2=null;break}},"item.persetujuan2":function(a){if(!this.$isLoading.value)switch(a){case null:this.item.jabatan_persetujuan2=null,this.selectedJabatan2=null,this.item.persetujuan3=null;break;case"3":this.selectedJabatan2=null;break;default:this.selectedPersetujuan3={id:null,nama:"Dapat Diambil"},this.item.persetujuan3=null;break}},"item.persetujuan3":function(a){if(!this.$isLoading.value)switch(a){case null:this.item.jabatan_persetujuan3=null,this.selectedJabatan3=null,this.item.persetujuan4=null;break;case"3":this.selectedJabatan3=null;break;default:this.selectedPersetujuan4={id:null,nama:"Dapat Diambil"},this.item.persetujuan4=null;break}},"item.persetujuan4":function(a){if(!this.$isLoading.value)switch(a){case null:this.item.jabatan_persetujuan4=null,this.selectedJabatan4=null;break;case"3":this.selectedJabatan4=null;break}}},methods:{async getData(){await j.index().then(a=>{a.data.data!==void 0&&(this.item=a.data.data,this.selectedPersetujuan1=this.lFirstApproval.find(e=>e.id===a.data.data.persetujuan1),this.selectedPersetujuan2=this.lSecondApproval.find(e=>e.id===a.data.data.persetujuan2),this.selectedPersetujuan3=this.lThirdApproval.find(e=>e.id===a.data.data.persetujuan3),this.selectedPersetujuan4=this.lForthApproval.find(e=>e.id===a.data.data.persetujuan4),this.selectedJabatan1=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan1),this.selectedJabatan2=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan2),this.selectedJabatan3=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan3),this.selectedJabatan4=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan4),this.isEdit=!0)}).catch(a=>{this.$toast.add({severity:"error",summary:"Error",detail:a.response.data.message,life:3e3})})},async getJabatanPicked(){await v.index().then(a=>{this.lJabatan=a.data.data}).catch(()=>{this.$toast.add({severity:"error",summary:"Failed",detail:"Load Data Jabatan ",life:3e3})})},async saveData(){this.$isLoading.value=!0;try{this.isEdit?await j.update(this.item.id,this.item).then(a=>{this.$toast.add({severity:"success",summary:"Success",detail:a.data.message,life:3e3})}):await j.store(this.item).then(a=>{this.$toast.add({severity:"success",summary:"Success",detail:a.data.message,life:3e3}),this.item=a.data.data,this.selectedPersetujuan1=this.lFirstApproval.find(e=>e.id===a.data.data.persetujuan1),this.selectedPersetujuan2=this.lSecondApproval.find(e=>e.id===a.data.data.persetujuan2),this.selectedPersetujuan3=this.lThirdApproval.find(e=>e.id===a.data.data.persetujuan3),this.selectedPersetujuan4=this.lForthApproval.find(e=>e.id===a.data.data.persetujuan4),this.selectedJabatan1=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan1),this.selectedJabatan2=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan2),this.selectedJabatan3=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan3),this.selectedJabatan4=this.lJabatan.find(e=>e.id===a.data.data.jabatan_persetujuan4),this.isEdit=!0})}catch(a){a instanceof _&&this.$toast.add({severity:"error",summary:"Failed",detail:a.response.data.message,life:3e3}),console.error(a)}finally{this.$timeoutLoading()}},selectApproval1(a){this.item.persetujuan1=a.value.id},selectApproval2(a){this.item.persetujuan2=a.value.id},selectApproval3(a){this.item.persetujuan3=a.value.id},selectApproval4(a){this.item.persetujuan4=a.value.id},selectJabatan1(a){this.item.jabatan_persetujuan1=a.value.id},selectJabatan2(a){this.item.jabatan_persetujuan2=a.value.id},selectJabatan3(a){this.item.jabatan_persetujuan3=a.value.id},selectJabatan4(a){this.item.jabatan_persetujuan4=a.value.id}},mounted(){this.getJabatanPicked(),this.$isLoading.value=!0,this.getData().finally(()=>{this.$timeoutLoading()})}},P={class:"grid crud-demo"},k={class:"col-12"},A={class:"card"},V=s("h5",null,"Setting Approval Penerimaan Barang",-1),y={class:"p-fluid formgrid grid mt-4"},D=s("div",{class:"field col-12"},null,-1),C={class:"field col-12 md:col-3"},L={key:0,class:"field col-12 md:col-3"},w=s("div",{class:"field col-12"},null,-1),T={key:1,class:"field col-12 md:col-3"},F={key:2,class:"field col-12 md:col-3"},S=s("div",{class:"field col-12"},null,-1),U={key:3,class:"field col-12 md:col-3"},E={key:4,class:"field col-12 md:col-3"},B=s("div",{class:"field col-12"},null,-1),x={key:5,class:"field col-12 md:col-3"},N={key:6,class:"field col-12 md:col-3"},O={class:"flex justify-content-left"};function Y(a,e,H,K,t,i){const b=h("Toast"),u=h("Label"),d=h("Dropdown"),f=h("Button");return o(),r("div",P,[s("div",k,[s("div",A,[n(b),V,s("div",y,[D,s("div",C,[n(u,{for:"persetujuan1"},{default:p(()=>[c("Persetujuan Pertama")]),_:1}),n(d,{id:"persetujuan1",modelValue:t.selectedPersetujuan1,"onUpdate:modelValue":e[0]||(e[0]=l=>t.selectedPersetujuan1=l),options:t.lFirstApproval,optionLabel:"nama",onChange:i.selectApproval1},null,8,["modelValue","options","onChange"])]),t.item.persetujuan1=="3"?(o(),r("div",L,[n(u,{for:"jabatan_persetujuan1"},{default:p(()=>[c("Yakni Oleh")]),_:1}),n(d,{id:"jabatan_persetujuan1",modelValue:t.selectedJabatan1,"onUpdate:modelValue":e[1]||(e[1]=l=>t.selectedJabatan1=l),options:a.lJabatan,optionLabel:"jabatan",onChange:i.selectJabatan1},null,8,["modelValue","options","onChange"])])):m("",!0),w,t.item.persetujuan1!=null?(o(),r("div",T,[n(u,{for:"persetujuan2"},{default:p(()=>[c("Persetujuan Kedua")]),_:1}),n(d,{id:"persetujuan2",modelValue:t.selectedPersetujuan2,"onUpdate:modelValue":e[2]||(e[2]=l=>t.selectedPersetujuan2=l),options:t.lSecondApproval,optionLabel:"nama",onChange:i.selectApproval2},null,8,["modelValue","options","onChange"])])):m("",!0),t.item.persetujuan2=="3"?(o(),r("div",F,[n(u,{for:"jabatan_persetujuan2"},{default:p(()=>[c("Yakni Oleh")]),_:1}),n(d,{id:"jabatan_persetujuan2",modelValue:t.selectedJabatan2,"onUpdate:modelValue":e[3]||(e[3]=l=>t.selectedJabatan2=l),options:a.lJabatan,optionLabel:"jabatan",onChange:i.selectJabatan2},null,8,["modelValue","options","onChange"])])):m("",!0),S,t.item.persetujuan2!=null?(o(),r("div",U,[n(u,{for:"persetujuan2"},{default:p(()=>[c("Persetujuan Ketiga")]),_:1}),n(d,{id:"persetujuan2",modelValue:t.selectedPersetujuan3,"onUpdate:modelValue":e[4]||(e[4]=l=>t.selectedPersetujuan3=l),options:t.lThirdApproval,optionLabel:"nama",onChange:i.selectApproval3},null,8,["modelValue","options","onChange"])])):m("",!0),t.item.persetujuan3=="3"?(o(),r("div",E,[n(u,{for:"jabatan_persetujuan3"},{default:p(()=>[c("Yakni Oleh")]),_:1}),n(d,{id:"jabatan_persetujuan3",modelValue:t.selectedJabatan3,"onUpdate:modelValue":e[5]||(e[5]=l=>t.selectedJabatan3=l),options:a.lJabatan,optionLabel:"jabatan",onChange:i.selectJabatan3},null,8,["modelValue","options","onChange"])])):m("",!0),B,t.item.persetujuan3!=null?(o(),r("div",x,[n(u,{for:"persetujuan4"},{default:p(()=>[c("Persetujuan Keempat")]),_:1}),n(d,{id:"persetujuan4",modelValue:t.selectedPersetujuan4,"onUpdate:modelValue":e[6]||(e[6]=l=>t.selectedPersetujuan4=l),options:t.lForthApproval,optionLabel:"nama",onChange:i.selectApproval4},null,8,["modelValue","options","onChange"])])):m("",!0),t.item.persetujuan4=="3"?(o(),r("div",N,[n(u,{for:"jabatan_persetujuan4"},{default:p(()=>[c("Yakni Oleh")]),_:1}),n(d,{id:"jabatan_persetujuan4",modelValue:t.selectedJabatan4,"onUpdate:modelValue":e[7]||(e[7]=l=>t.selectedJabatan4=l),options:a.lJabatan,optionLabel:"jabatan",onChange:i.selectJabatan4},null,8,["modelValue","options","onChange"])])):m("",!0)]),s("div",O,[n(f,{label:"Save",icon:"pi pi-check",class:"mt-4",type:"button",onClick:i.saveData},null,8,["onClick"])])])])])}const G=J(g,[["render",Y]]);export{G as default};
