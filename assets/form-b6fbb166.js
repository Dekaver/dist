import{_ as y,a6 as k,r as c,o as g,c as b,b as e,d as l,e as n,l as m,n as _,t as f}from"./index-11eb6111.js";import{a as V}from"./pajak-69cfe91a.js";const x={data(){return{selectedPajakOption:null,item:{diskon_per_baris:null,diskon_total:null,proyek:null,pajak:null,id_pajak:[]},lPajakOptions:[{id:"a",nama:"Tampilkan Perbaris"},{id:"b",nama:"Tampilkan Pada Total"}],choosePajak:null,selectedPajak:[],lPajak:[],isEdit:!1}},methods:{async getData(){try{const o=await V.index();this.lPajak=o.data.data;const s=await k.index();if(s.data.data===void 0)return;this.item=s.data.data,this.choosePajak=!!s.data.data.pajak,this.choosePajak&&(this.selectedPajakOption=this.lPajakOptions.find(u=>u.id==this.item.pajak),this.item.pajak=="b"&&(this.selectedPajak=this.lPajak.filter(u=>{var p;return this.item.id_pajak&&((p=this.item.id_pajak)==null?void 0:p.some(a=>a==u.id))}))),this.isEdit=!0}catch(o){this.$toast.add({severity:"error",summary:"Error",detail:o.response.data.message,life:3e3})}},async saveData(){try{this.isEdit?await k.update(this.item).then(o=>{this.$toast.add({severity:"success",summary:"Success",detail:o.data.message,life:3e3})}).catch(o=>{this.$toast.add({severity:"error",summary:"Error",detail:o.response.data.message,life:3e3})}):await k.store({...this.item}).then(o=>{this.$toast.add({severity:"success",summary:"Success",detail:o.data.message,life:3e3}),this.getData()}).catch(o=>{this.$toast.add({severity:"error",summary:"Error",detail:o.response.data.message,life:3e3})})}catch(o){this.$toast.add({severity:"error",summary:"Failed",detail:o.response.data.message,life:3e3})}},goBack(){this.$router.go(-1)},selectPajak(o){this.item.pajak=o.value.id},changePajakOption(){this.item.pajak=this.choosePajak?"a":null,this.choosePajak?this.selectedPajakOption={id:"a",nama:"Tampilkan Perbaris"}:(this.selectedPajakOption=null,this.item.id_pajak=[],this.selectedPajak=null)},changePajak(){this.item.id_pajak=this.selectedPajak.map(o=>o.id)}},mounted(){this.getData()}},T={class:"grid crud-demo"},B={class:"col-12"},C={class:"card"},I=e("h5",null,"Setting Penjualan",-1),O={class:"p-fluid formgrid grid mt-4"},w={class:"field col-12 md:col-6 mt-4"},D={class:"flex justify-content-justify mt-4"},U={class:"flex align-items-center"},N=e("label",{for:"diskonPerBaris1",class:"font-bold ml-3"},"Iya",-1),S={class:"flex align-items-center ml-8"},E=e("label",{for:"diskonPerBaris2",class:"font-bold ml-3"},"Tidak",-1),L=e("div",{class:"field col-12"},null,-1),R={class:"field col-12 md:col-6 mt-4"},M={class:"flex justify-content-justify mt-4"},z={class:"flex align-items-center"},A=e("label",{for:"diskonTotal1",class:"font-bold ml-3"},"Iya",-1),F={class:"flex align-items-center ml-8"},q=e("label",{for:"diskonTotal2",class:"font-bold ml-3"},"Tidak",-1),G=e("div",{class:"field col-12"},null,-1),H={class:"field col-12 md:col-6 mt-4"},J={class:"flex justify-content-justify mt-4"},K={class:"flex align-items-center"},Q=e("label",{for:"proyek1",class:"font-bold ml-3"},"Iya",-1),W={class:"flex align-items-center ml-8"},X=e("label",{for:"proyek2",class:"font-bold ml-3"},"Tidak",-1),Y=e("div",{class:"field col-12"},null,-1),Z={class:"field col-12 md:col-6 mt-4"},$={class:"flex justify-content-justify mt-4"},ee={class:"flex align-items-center"},ae=e("label",{for:"isNeededTax1",class:"font-bold ml-3"},"Iya",-1),se={class:"flex align-items-center ml-8"},te=e("label",{for:"isNeededTax2",class:"font-bold ml-3"},"Tidak",-1),oe=e("div",{class:"field col-12"},null,-1),le={class:"grid col pb-0"},ie={class:"col py-1"},ne={class:"col text-green-500 py-1"},de={class:"flex justify-content-left"};function ce(o,s,u,p,a,r){const h=c("Toast"),d=c("Label"),i=c("RadioButton"),j=c("Dropdown"),P=c("MultiSelect"),v=c("Button");return g(),b("div",T,[e("div",B,[e("div",C,[l(h),I,e("div",O,[e("div",w,[l(d,{for:"jenis"},{default:n(()=>[m("Tampilkan Diskon Perbaris ?")]),_:1}),e("div",D,[e("div",U,[l(i,{modelValue:a.item.diskon_per_baris,"onUpdate:modelValue":s[0]||(s[0]=t=>a.item.diskon_per_baris=t),inputId:"diskonPerBaris1",name:"diskonPerBaris",value:!0},null,8,["modelValue"]),N]),e("div",S,[l(i,{modelValue:a.item.diskon_per_baris,"onUpdate:modelValue":s[1]||(s[1]=t=>a.item.diskon_per_baris=t),inputId:"diskonPerBaris2",name:"diskonPerBaris",value:!1},null,8,["modelValue"]),E])])]),L,e("div",R,[l(d,{for:"jenis"},{default:n(()=>[m("Tampilkan Diskon Total ?")]),_:1}),e("div",M,[e("div",z,[l(i,{modelValue:a.item.diskon_total,"onUpdate:modelValue":s[2]||(s[2]=t=>a.item.diskon_total=t),inputId:"diskonTotal1",name:"diskonTotal",value:!0},null,8,["modelValue"]),A]),e("div",F,[l(i,{modelValue:a.item.diskon_total,"onUpdate:modelValue":s[3]||(s[3]=t=>a.item.diskon_total=t),inputId:"diskonTotal2",name:"diskonTotal",value:!1},null,8,["modelValue"]),q])])]),G,e("div",H,[l(d,{for:"jenis"},{default:n(()=>[m("Tampilkan Proyek ?")]),_:1}),e("div",J,[e("div",K,[l(i,{modelValue:a.item.proyek,"onUpdate:modelValue":s[4]||(s[4]=t=>a.item.proyek=t),inputId:"proyek1",name:"proyek",value:!0},null,8,["modelValue"]),Q]),e("div",W,[l(i,{modelValue:a.item.proyek,"onUpdate:modelValue":s[5]||(s[5]=t=>a.item.proyek=t),inputId:"proyek2",name:"proyek",value:!1},null,8,["modelValue"]),X])])]),Y,e("div",Z,[l(d,{for:"jenis"},{default:n(()=>[m("Apakah Memerlukan Pajak ?")]),_:1}),e("div",$,[e("div",ee,[l(i,{modelValue:a.choosePajak,"onUpdate:modelValue":s[6]||(s[6]=t=>a.choosePajak=t),inputId:"isNeededTax1",name:"isNeededTax",value:!0,onChange:r.changePajakOption},null,8,["modelValue","onChange"]),ae]),e("div",se,[l(i,{modelValue:a.choosePajak,"onUpdate:modelValue":s[7]||(s[7]=t=>a.choosePajak=t),inputId:"isNeededTax2",name:"isNeededTax",value:!1,onChange:r.changePajakOption},null,8,["modelValue","onChange"]),te])])]),oe,e("div",{class:_(["field col-12 md:col-3",!a.choosePajak&&"hidden"])},[l(d,{for:"persetujuan1"},{default:n(()=>[m("Tampilan Pajak")]),_:1}),l(j,{id:"persetujuan1",modelValue:a.selectedPajakOption,"onUpdate:modelValue":s[8]||(s[8]=t=>a.selectedPajakOption=t),options:a.lPajakOptions,optionLabel:"nama",onChange:r.selectPajak},null,8,["modelValue","options","onChange"])],2),e("div",{class:_(["field col-12 md:col-3",this.item.pajak!="b"&&"hidden"])},[l(d,{for:"pajak"},{default:n(()=>[m("Pajak")]),_:1}),l(P,{modelValue:a.selectedPajak,"onUpdate:modelValue":s[9]||(s[9]=t=>a.selectedPajak=t),options:a.lPajak,optionLabel:"nama",placeholder:"Pajak",maxSelectedLabels:3,class:"w-full md:w-20rem min-w-max",onChange:r.changePajak},{option:n(t=>[e("div",le,[e("div",ie,f(t.option.nama),1),e("div",ne,f(t.option.nilai)+"%",1)])]),_:1},8,["modelValue","options","onChange"])],2)]),e("div",de,[l(v,{label:"Save",icon:"pi pi-check",class:"mt-4",type:"button",onClick:r.saveData},null,8,["onClick"])])])])])}const ue=y(x,[["render",ce]]);export{ue as default};
