import{_ as D,F as V,r as f,o as c,c as r,b as s,d as i,e as d,l as _,t as a,n as v,f as b,p as T,g as I}from"./index-11eb6111.js";import{P as N}from"./ProductService-0ec95d2b.js";const U={data(){return{products:null,checked:!0,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},isSubmitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],lproducts:null,editingRows:[]}},productService:null,created(){this.productService=new N,this.initFilters()},mounted(){this.productService.getProducts().then(l=>this.products=l),this.productService.getProducts().then(l=>this.lproducts=l)},methods:{FormNew(){this.product={},this.isSubmitted=!1,this.productDialog=!0},HideDialog(){this.productDialog=!1,this.isSubmitted=!1},saveProduct(){this.isSubmitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(l){this.product={...l},this.productDialog=!0},confirmDeleteProduct(l){this.product=l,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(l=>l.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(l){let o=-1;for(let p=0;p<this.products.length;p++)if(this.products[p].id===l){o=p;break}return o},createId(){let l="";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p=0;p<5;p++)l+=o.charAt(Math.floor(Math.random()*o.length));return l},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(l=>!this.selectedProducts.includes(l)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:V.CONTAINS}}},onRowEditSave(l){let{newData:o,index:p}=l;this.products[p]=o},getStatusLabel(l){switch(l){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return null}}}},n=l=>(T("data-v-d917513c"),l=l(),I(),l),A={class:"grid crud-demo"},O={class:"col-12"},L={class:"card"},M={class:"my-2"},q={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},F=n(()=>s("h5",{class:"m-0"},"Manajemen Gudang",-1)),K={class:"block mt-2 md:mt-0 p-input-icon-left"},j=n(()=>s("i",{class:"pi pi-search"},null,-1)),B=n(()=>s("span",{class:"p-column-title"},"Inisial",-1)),H=n(()=>s("span",{class:"p-column-title"},"Nama Gudang",-1)),R=n(()=>s("span",{class:"p-column-title"},"Kantor Cabang",-1)),G=n(()=>s("span",{class:"p-column-title"},"Telepon",-1)),z=n(()=>s("span",{class:"p-column-title"},"Alamat",-1)),E=n(()=>s("span",{class:"p-column-title"},"Acc Persediaan",-1)),W=n(()=>s("span",{class:"p-column-title"},"Acc HPP",-1)),Y={class:"formgrid grid"},J={class:"field col-4 d-flex justifiy-content-center align-items-end"},Q=n(()=>s("label",{for:"inisial"},"Inisial",-1)),X={key:0,class:"p-invalid"},Z={class:"field col-8 d-flex justifiy-content-center align-items-end"},$=n(()=>s("label",{for:"kodeproduk"},"Nama",-1)),ee={key:0,class:"p-invalid"},te={class:"field col-12 d-flex justifiy-content-center align-items-end"},oe=n(()=>s("label",{for:"inventoryStatus",class:"mb-2"},"Kategori Gudang",-1)),se={key:0},ie={key:1},le={key:2},de={class:"field col-4 d-flex justifiy-content-center align-items-end"},ne=n(()=>s("label",{for:"telepon"},"Telepon",-1)),ce={key:0,class:"p-invalid"},re={class:"field col-8 d-flex justifiy-content-center align-items-end"},ue=n(()=>s("label",{for:"alamat"},"Alamat",-1)),ae={key:0,class:"p-invalid"},pe={class:"field col-6 d-flex justifiy-content-center align-items-end"},me=n(()=>s("label",{for:"accountpersediaan"},"Account Persediaan",-1)),he={key:0,class:"p-invalid"},fe={class:"field col-6 d-flex justifiy-content-center align-items-end"},_e=n(()=>s("label",{for:"accounthpp"},"Account HPP",-1)),ve={key:0,class:"p-invalid"},be={class:"flex align-items-center justify-content-center"},ge=n(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ye={key:0},Se={class:"flex align-items-center justify-content-center"},ke=n(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Pe={key:0};function we(l,o,p,Ce,e,m){const S=f("Toast"),u=f("Button"),k=f("FileUpload"),P=f("Toolbar"),g=f("InputText"),h=f("Column"),w=f("DataTable"),C=f("Dropdown"),y=f("Dialog");return c(),r("div",A,[s("div",O,[s("div",L,[i(S),i(P,{class:"mb-4"},{start:d(()=>[s("div",M,[i(u,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:m.FormNew},null,8,["onClick"]),i(u,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:m.confirmDeleteSelected,disabled:!e.selectedProducts||!e.selectedProducts.length},null,8,["onClick","disabled"])])]),end:d(()=>[i(k,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),i(u,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:o[0]||(o[0]=t=>m.exportCSV(t))})]),_:1}),i(w,{ref:"dt",value:e.products,selection:e.selectedProducts,"onUpdate:selection":o[2]||(o[2]=t=>e.selectedProducts=t),dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d(()=>[s("div",q,[F,s("span",K,[j,i(g,{modelValue:e.filters.global.value,"onUpdate:modelValue":o[1]||(o[1]=t=>e.filters.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[i(h,{selectionMode:"multiple",headerStyle:"width: 1rem"}),i(h,{field:"inisial",header:"inisial",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(t=>[B,_(" "+a(t.data.code),1)]),_:1}),i(h,{field:"namagudang",header:"Nama Gudang",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(t=>[H,_(" "+a(t.data.code),1)]),_:1}),i(h,{field:"kantorcabang",header:"Kantor Cabang",sortable:!0,headerStyle:"width:20%; min-width:10rem;"},{body:d(t=>[R,_(" "+a(l.$h.formatNumber(t.data.price)),1)]),_:1}),i(h,{header:"Telepon",headerStyle:"width:20%; min-width:10rem;"},{body:d(t=>[G,_(" "+a(t.data.name),1)]),_:1}),i(h,{header:"Alamat",headerStyle:"width:20%; min-width:10rem;"},{body:d(t=>[z,_(" "+a(t.data.name),1)]),_:1}),i(h,{header:"Acc Persediaan",headerStyle:"width:20%; min-width:10rem;"},{body:d(t=>[E,_(" "+a(t.data.name),1)]),_:1}),i(h,{header:"Acc HPP",headerStyle:"width:20%; min-width:10rem;"},{body:d(t=>[W,_(" "+a(t.data.name),1)]),_:1}),i(h,{headerStyle:"width:14%; min-width:10rem;"},{body:d(t=>[i(u,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:x=>m.editProduct(t.data)},null,8,["onClick"]),i(u,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:x=>m.confirmDeleteProduct(t.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),i(y,{visible:e.productDialog,"onUpdate:visible":o[10]||(o[10]=t=>e.productDialog=t),style:{width:"450px"},header:"Gudang Details",modal:!0,class:"p-fluid"},{footer:d(()=>[i(u,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:m.HideDialog},null,8,["onClick"]),i(u,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:m.saveProduct},null,8,["onClick"])]),default:d(()=>[s("div",Y,[s("div",J,[Q,i(g,{id:"inisial",modelValue:e.product.inisial,"onUpdate:modelValue":o[3]||(o[3]=t=>e.product.inisial=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.isSubmitted&&!e.product.inisial})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.inisial?(c(),r("small",X,"Kode Produk is required.")):b("",!0)]),s("div",Z,[$,i(g,{id:"kodeproduk",modelValue:e.product.kodeproduk,"onUpdate:modelValue":o[4]||(o[4]=t=>e.product.kodeproduk=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.isSubmitted&&!e.product.kodeproduk})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.kodeproduk?(c(),r("small",ee,"nama Produk is required.")):b("",!0)]),s("div",te,[oe,i(C,{id:"inventoryStatus",modelValue:e.product.inventoryStatus,"onUpdate:modelValue":o[5]||(o[5]=t=>e.product.inventoryStatus=t),options:e.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(t=>[t.value&&t.value.value?(c(),r("div",se,[s("span",{class:v("product-badge status-"+t.value.value)},a(t.value.label),3)])):t.value&&!t.value.value?(c(),r("div",ie,[s("span",{class:v("product-badge status-"+t.value.toLowerCase())},a(t.value),3)])):(c(),r("span",le,a(t.placeholder),1))]),_:1},8,["modelValue","options"])]),s("div",de,[ne,i(g,{id:"telepon",modelValue:e.product.telepon,"onUpdate:modelValue":o[6]||(o[6]=t=>e.product.telepon=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.isSubmitted&&!e.product.telepon})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.telepon?(c(),r("small",ce,"Telepon is required.")):b("",!0)]),s("div",re,[ue,i(g,{id:"alamat",modelValue:e.product.alamat,"onUpdate:modelValue":o[7]||(o[7]=t=>e.product.alamat=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.isSubmitted&&!e.product.alamat})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.alamat?(c(),r("small",ae,"Alamat is required.")):b("",!0)]),s("div",pe,[me,i(g,{id:"accountpersediaan",modelValue:e.product.accountpersediaan,"onUpdate:modelValue":o[8]||(o[8]=t=>e.product.accountpersediaan=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.isSubmitted&&!e.product.accountpersediaan})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.accountpersediaan?(c(),r("small",he,"Account Persediaan is required.")):b("",!0)]),s("div",fe,[_e,i(g,{id:"accounthpp",modelValue:e.product.accounthpp,"onUpdate:modelValue":o[9]||(o[9]=t=>e.product.accounthpp=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.isSubmitted&&!e.product.accounthpp})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.accounthpp?(c(),r("small",ve,"Account HPP is required.")):b("",!0)])])]),_:1},8,["visible"]),i(y,{visible:e.deleteProductDialog,"onUpdate:visible":o[12]||(o[12]=t=>e.deleteProductDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[i(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[11]||(o[11]=t=>e.deleteProductDialog=!1)}),i(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:m.deleteProduct},null,8,["onClick"])]),default:d(()=>[s("div",be,[ge,e.product?(c(),r("span",ye,[_("Are you sure you want to delete "),s("b",null,a(e.product.name),1),_("?")])):b("",!0)])]),_:1},8,["visible"]),i(y,{visible:e.deleteProductsDialog,"onUpdate:visible":o[14]||(o[14]=t=>e.deleteProductsDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[i(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[13]||(o[13]=t=>e.deleteProductsDialog=!1)}),i(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:m.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[s("div",Se,[ke,e.product?(c(),r("span",Pe,"Are you sure you want to delete the selected products?")):b("",!0)])]),_:1},8,["visible"])])])])}const Ve=D(U,[["render",we],["__scopeId","data-v-d917513c"]]);export{Ve as default};
