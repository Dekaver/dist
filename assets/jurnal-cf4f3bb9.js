import{a as p}from"./api-a685b482.js";import{_ as b,r as u,o as a,c as l,d as c,e as f,b as t,t as o,m as g,q as v,p as w,g as y}from"./index-11eb6111.js";const k={data(){return{id:null,item:{journal_code:null,gl_number:null,gl_date:null,total:0,is_posting:!0,note:null,reference:null,detail:[{gl_number:null,line:null,id_account:null,amount:null,is_debit:null,description:null,account_name:null,account_code:null,debit:0,credit:0}]}}},methods:{async getData(){await p.journal(this.$route.params.id).then(e=>{console.log(e),this.item=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Failed",detail:e.response.data.message,life:3e3})})}},computed:{total_debit:function(){return this.item.detail.reduce((e,i)=>e+parseFloat(i.debit),0)},total_credit:function(){return this.item.detail.reduce((e,i)=>e+parseFloat(i.credit),0)},invalid:function(){return!(this.item.date!=null&&this.item.id_customer!=null&&this.item.bank_account!=null)}},watch:{total:function(e){this.item.total=e}},mounted(){this.id=this.$route.params.id?this.$route.params.id:null,this.getData()}},s=e=>(w("data-v-988eed73"),e=e(),y(),e),x={class:"layout-invoice-page"},N={class:"book layout-invoice-content"},B={id:"akm-invoice",class:"page"},$={class:"subpage"},D={class:"report-container w-100"},I={class:"report-content"},F={class:"report-content-cell"},S={class:"main-content"},j={class:"page-details border-0"},K=s(()=>t("div",{class:"page-title text-start"},[t("p",{class:"fw-bolder fs-5"},"Jurnal Voucher")],-1)),P={class:"row my-3"},V={class:"col-12 p-0"},z={class:"table table-sm font-smaller w-100 mb-0"},C={class:"border-2 border-dark"},T=s(()=>t("td",{width:"25%"},"Nomor",-1)),q=s(()=>t("td",{width:"5%",class:"text-center"},":",-1)),A={class:"fw-bold"},E={class:"border-2 border-dark"},J=s(()=>t("td",{width:"25%"},"Tanggal",-1)),L=s(()=>t("td",{width:"5%",class:"text-center"},":",-1)),R={class:"border-2 border-dark"},G=s(()=>t("td",{width:"25%"},"Referensi",-1)),H=s(()=>t("td",{width:"5%",class:"text-center"},":",-1)),M={class:"border-2 border-dark"},O=s(()=>t("td",{width:"25%"},"Keterangan",-1)),Q=s(()=>t("td",{width:"5%",class:"text-center"},":",-1)),U={class:"table-details border-0"},W={class:"table table-sm font-smaller"},X=s(()=>t("thead",null,[t("tr",{class:"text-center"},[t("th",{width:"30%"},"Kode"),t("th",{width:"30%"},"Akun"),t("th",{width:"20%"},"Debit"),t("th",{width:"20%"},"Kredit")])],-1)),Y={class:"text-end"},Z={class:"text-end"},tt=s(()=>t("td",{colspan:"2"},"Total",-1)),et={class:"text-end"},st={class:"text-end"};function ot(e,i,nt,it,n,r){const _=u("Button"),h=u("router-link");return a(),l("div",x,[c(h,{to:"/invoice",class:"me-2"},{default:f(()=>[c(_,{label:"Back",icon:"pi pi-arrow-left",severity:"secondary",size:"medium",iconPos:"left"})]),_:1}),c(_,{label:"Print",icon:"pi pi-print",severity:"primary",size:"medium",iconPos:"left",onclick:"window.print()"}),t("div",N,[t("div",B,[t("div",$,[t("table",D,[t("tbody",I,[t("tr",null,[t("td",F,[t("div",S,[t("div",j,[K,t("div",P,[t("div",V,[t("table",z,[t("tr",C,[T,q,t("td",A,o(n.item.gl_number),1)]),t("tr",E,[J,L,t("td",null,o(e.$h.formatDate(n.item.gl_date)),1)]),t("tr",R,[G,H,t("td",null,o(n.item.reference),1)]),t("tr",M,[O,Q,t("td",null,o(n.item.note),1)])])])])]),t("div",U,[t("table",W,[X,t("tbody",null,[(a(!0),l(g,null,v(n.item.detail,(d,m)=>(a(),l("tr",{key:m},[t("td",null,o(d.account_code),1),t("td",null,o(d.account_name),1),t("td",Y,o(e.$h.formatNumber(d.debit)),1),t("td",Z,o(e.$h.formatNumber(d.credit)),1)]))),128))]),t("tfoot",null,[t("tr",null,[tt,t("td",et,o(e.$h.formatNumber(r.total_debit)),1),t("td",st,o(e.$h.formatNumber(r.total_credit)),1)])])])])])])])])])])])])])}const lt=b(k,[["render",ot],["__scopeId","data-v-988eed73"]]);export{lt as default};
