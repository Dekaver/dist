import{_ as P,F as T,r as h,o as u,c,b as l,d as s,e as d,l as _,t as n,n as v,f as b,p as I,g as j}from"./index-11eb6111.js";import{P as U}from"./ProductService-0ec95d2b.js";const L={data(){return{products:null,checked:!0,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},isSubmitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],lproducts:null,editingRows:[]}},productService:null,created(){this.productService=new U,this.initFilters()},mounted(){this.productService.getProducts().then(i=>this.products=i),this.productService.getProducts().then(i=>this.lproducts=i)},methods:{FormNew(){this.product={},this.isSubmitted=!1,this.productDialog=!0},HideDialog(){this.productDialog=!1,this.isSubmitted=!1},saveProduct(){this.isSubmitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(i){this.product={...i},this.productDialog=!0},confirmDeleteProduct(i){this.product=i,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(i=>i.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(i){let o=-1;for(let p=0;p<this.products.length;p++)if(this.products[p].id===i){o=p;break}return o},createId(){let i="";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p=0;p<5;p++)i+=o.charAt(Math.floor(Math.random()*o.length));return i},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(i=>!this.selectedProducts.includes(i)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:T.CONTAINS}}},onRowEditSave(i){let{newData:o,index:p}=i;this.products[p]=o},getStatusLabel(i){switch(i){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return null}}}},a=i=>(I("data-v-18215cca"),i=i(),j(),i),A={class:"grid crud-demo"},K={class:"col-12"},N={class:"card"},O={class:"my-2"},F={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},M=a(()=>l("h5",{class:"m-0"},"Manajemen Kantor",-1)),q={class:"block mt-2 md:mt-0 p-input-icon-left"},B=a(()=>l("i",{class:"pi pi-search"},null,-1)),E=a(()=>l("span",{class:"p-column-title"},"Kode",-1)),R=a(()=>l("span",{class:"p-column-title"},"Kantor",-1)),z=a(()=>l("span",{class:"p-column-title"},"Alamat",-1)),H=a(()=>l("span",{class:"p-column-title"},"Alamat",-1)),W=a(()=>l("span",{class:"p-column-title"},"Acc Persediaan",-1)),Y=a(()=>l("span",{class:"p-column-title"},"Email",-1)),G=a(()=>l("span",{class:"p-column-title"},"Telepon",-1)),J=a(()=>l("span",{class:"p-column-title"},"Akun Penjualan",-1)),Q={class:"formgrid grid"},X={class:"field col-4 d-flex justifiy-content-center align-items-end"},Z=a(()=>l("label",{for:"kode"},"Kode",-1)),$={key:0,class:"p-invalid"},ee={class:"field col-8 d-flex justifiy-content-center align-items-end"},te=a(()=>l("label",{for:"kantor"},"Kantor",-1)),le={key:0,class:"p-invalid"},oe={class:"field col-4 d-flex justifiy-content-center align-items-end"},se=a(()=>l("label",{for:"akun_penjualan",class:"mb-2"},"Akun Penjualan",-1)),ie={key:0},de={key:1},ae={key:2},ne={class:"field col-4 d-flex justifiy-content-center align-items-end"},ue=a(()=>l("label",{for:"akun_hutang",class:"mb-2"},"Akun Hutang",-1)),ce={key:0},re={key:1},pe={key:2},me={class:"field col-4 d-flex justifiy-content-center align-items-end"},he=a(()=>l("label",{for:"akun_piutang",class:"mb-2"},"Akun Piutang",-1)),_e={key:0},ve={key:1},fe={key:2},be={class:"field col-6 d-flex justifiy-content-center align-items-end"},ge=a(()=>l("label",{for:"telepon"},"Telepon",-1)),ke={key:0,class:"p-invalid"},ye={class:"field col-6 d-flex justifiy-content-center align-items-end"},Se=a(()=>l("label",{for:"email"},"Email",-1)),we={key:0,class:"p-invalid"},Ce={class:"field col-12"},xe=a(()=>l("label",{for:"alamat"},"Alamat",-1)),De={class:"flex align-items-center justify-content-center"},Ve=a(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Pe={key:0},Te={class:"flex align-items-center justify-content-center"},Ie=a(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),je={key:0};function Ue(i,o,p,Le,t,f){const S=h("Toast"),r=h("Button"),w=h("FileUpload"),C=h("Toolbar"),g=h("InputText"),m=h("Column"),x=h("DataTable"),k=h("Dropdown"),D=h("Textarea"),y=h("Dialog");return u(),c("div",A,[l("div",K,[l("div",N,[s(S),s(C,{class:"mb-4"},{start:d(()=>[l("div",O,[s(r,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:f.FormNew},null,8,["onClick"]),s(r,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:f.confirmDeleteSelected,disabled:!t.selectedProducts||!t.selectedProducts.length},null,8,["onClick","disabled"])])]),end:d(()=>[s(w,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),s(r,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:o[0]||(o[0]=e=>f.exportCSV(e))})]),_:1}),s(x,{ref:"dt",value:t.products,selection:t.selectedProducts,"onUpdate:selection":o[2]||(o[2]=e=>t.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d(()=>[l("div",F,[M,l("span",q,[B,s(g,{modelValue:t.filters.global.value,"onUpdate:modelValue":o[1]||(o[1]=e=>t.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[s(m,{selectionMode:"multiple",headerStyle:"width: 1rem"}),s(m,{field:"namagudang",header:"Kode",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[E,_(" "+n(e.data.code),1)]),_:1}),s(m,{field:"kantor",header:"Kantor",sortable:!0,headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[R,_(" "+n(i.$h.formatNumber(e.data.price)),1)]),_:1}),s(m,{header:"Alamat",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[z,_(" "+n(e.data.name),1)]),_:1}),s(m,{header:"Alamat",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[H,_(" "+n(e.data.name),1)]),_:1}),s(m,{header:"Acc Persediaan",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[W,_(" "+n(e.data.name),1)]),_:1}),s(m,{header:"Email",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[Y,_(" "+n(e.data.name),1)]),_:1}),s(m,{header:"Telepon",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[G,_(" "+n(e.data.name),1)]),_:1}),s(m,{header:"Akun Penjualan",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[J,_(" "+n(e.data.name),1)]),_:1}),s(m,{headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[s(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:V=>f.editProduct(e.data)},null,8,["onClick"]),s(r,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:V=>f.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),s(y,{visible:t.productDialog,"onUpdate:visible":o[11]||(o[11]=e=>t.productDialog=e),style:{width:"650px"},header:"Kantor Details",modal:!0,class:"p-fluid"},{footer:d(()=>[s(r,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:f.HideDialog},null,8,["onClick"]),s(r,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:f.saveProduct},null,8,["onClick"])]),default:d(()=>[l("div",Q,[l("div",X,[Z,s(g,{id:"kode",modelValue:t.product.kode,"onUpdate:modelValue":o[3]||(o[3]=e=>t.product.kode=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":t.isSubmitted&&!t.product.kode})},null,8,["modelValue","class"]),t.isSubmitted&&!t.product.kode?(u(),c("small",$,"required")):b("",!0)]),l("div",ee,[te,s(g,{id:"kantor",modelValue:t.product.kantor,"onUpdate:modelValue":o[4]||(o[4]=e=>t.product.kantor=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":t.isSubmitted&&!t.product.kantor})},null,8,["modelValue","class"]),t.isSubmitted&&!t.product.kantor?(u(),c("small",le,"required")):b("",!0)]),l("div",oe,[se,s(k,{id:"akun_penjualan",modelValue:t.product.akun_penjualan,"onUpdate:modelValue":o[5]||(o[5]=e=>t.product.akun_penjualan=e),options:t.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(u(),c("div",ie,[l("span",{class:v("product-badge status-"+e.value.value)},n(e.value.label),3)])):e.value&&!e.value.value?(u(),c("div",de,[l("span",{class:v("product-badge status-"+e.value.toLowerCase())},n(e.value),3)])):(u(),c("span",ae,n(e.placeholder),1))]),_:1},8,["modelValue","options"])]),l("div",ne,[ue,s(k,{id:"akun_hutang",modelValue:t.product.akun_hutang,"onUpdate:modelValue":o[6]||(o[6]=e=>t.product.akun_hutang=e),options:t.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(u(),c("div",ce,[l("span",{class:v("product-badge status-"+e.value.value)},n(e.value.label),3)])):e.value&&!e.value.value?(u(),c("div",re,[l("span",{class:v("product-badge status-"+e.value.toLowerCase())},n(e.value),3)])):(u(),c("span",pe,n(e.placeholder),1))]),_:1},8,["modelValue","options"])]),l("div",me,[he,s(k,{id:"akun_piutang",modelValue:t.product.akun_piutang,"onUpdate:modelValue":o[7]||(o[7]=e=>t.product.akun_piutang=e),options:t.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(u(),c("div",_e,[l("span",{class:v("product-badge status-"+e.value.value)},n(e.value.label),3)])):e.value&&!e.value.value?(u(),c("div",ve,[l("span",{class:v("product-badge status-"+e.value.toLowerCase())},n(e.value),3)])):(u(),c("span",fe,n(e.placeholder),1))]),_:1},8,["modelValue","options"])]),l("div",be,[ge,s(g,{id:"telepon",modelValue:t.product.telepon,"onUpdate:modelValue":o[8]||(o[8]=e=>t.product.telepon=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":t.isSubmitted&&!t.product.telepon})},null,8,["modelValue","class"]),t.isSubmitted&&!t.product.telepon?(u(),c("small",ke,"required")):b("",!0)]),l("div",ye,[Se,s(g,{id:"email",modelValue:t.product.email,"onUpdate:modelValue":o[9]||(o[9]=e=>t.product.email=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":t.isSubmitted&&!t.product.email})},null,8,["modelValue","class"]),t.isSubmitted&&!t.product.email?(u(),c("small",we,"required")):b("",!0)]),l("div",Ce,[xe,s(D,{id:"alamat",modelValue:t.product.alamat,"onUpdate:modelValue":o[10]||(o[10]=e=>t.product.alamat=e),required:"true",rows:"2"},null,8,["modelValue"])])])]),_:1},8,["visible"]),s(y,{visible:t.deleteProductDialog,"onUpdate:visible":o[13]||(o[13]=e=>t.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[s(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[12]||(o[12]=e=>t.deleteProductDialog=!1)}),s(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:f.deleteProduct},null,8,["onClick"])]),default:d(()=>[l("div",De,[Ve,t.product?(u(),c("span",Pe,[_("Are you sure you want to delete "),l("b",null,n(t.product.name),1),_("?")])):b("",!0)])]),_:1},8,["visible"]),s(y,{visible:t.deleteProductsDialog,"onUpdate:visible":o[15]||(o[15]=e=>t.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[s(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[14]||(o[14]=e=>t.deleteProductsDialog=!1)}),s(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:f.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[l("div",Te,[Ie,t.product?(u(),c("span",je,"Are you sure you want to delete the selected products?")):b("",!0)])]),_:1},8,["visible"])])])])}const Ne=P(L,[["render",Ue],["__scopeId","data-v-18215cca"]]);export{Ne as default};
