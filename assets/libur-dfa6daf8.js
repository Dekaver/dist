import{_ as x,F as T,r as a,o as m,c as h,b as i,d as o,e as r,l as b,t as f,n as S,f as _,p as I,g as V}from"./index-11eb6111.js";import{P as L}from"./ProductService-0ec95d2b.js";const N={data(){return{products:null,date:null,checked:!0,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},isSubmitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],lproducts:null,editingRows:[]}},productService:null,created(){this.productService=new L,this.initFilters()},mounted(){this.productService.getProducts().then(s=>this.products=s),this.productService.getProducts().then(s=>this.lproducts=s)},methods:{FormNew(){this.product={},this.isSubmitted=!1,this.productDialog=!0},HideDialog(){this.productDialog=!1,this.isSubmitted=!1},saveProduct(){this.isSubmitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(s){this.product={...s},this.productDialog=!0},confirmDeleteProduct(s){this.product=s,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(s=>s.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(s){let t=-1;for(let u=0;u<this.products.length;u++)if(this.products[u].id===s){t=u;break}return t},createId(){let s="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<5;u++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(s=>!this.selectedProducts.includes(s)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:T.CONTAINS}}},onRowEditSave(s){let{newData:t,index:u}=s;this.products[u]=t},getStatusLabel(s){switch(s){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return null}}}},c=s=>(I("data-v-c032c07f"),s=s(),V(),s),O={class:"grid crud-demo"},U={class:"col-12"},F={class:"card"},j={class:"my-2"},M={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},K=c(()=>i("h5",{class:"m-0"},"Manajemen Hari Libur",-1)),B={class:"block mt-2 md:mt-0 p-input-icon-left"},R=c(()=>i("i",{class:"pi pi-search"},null,-1)),q=c(()=>i("span",{class:"p-column-title"},"Tanggal",-1)),z=c(()=>i("span",{class:"p-column-title"},"Judul",-1)),A=c(()=>i("span",{class:"p-column-title"},"Tipe Libur",-1)),E={class:"formgrid grid"},H={class:"field col-12"},J=c(()=>i("label",{for:"judullibur"},"Judul Libur",-1)),W={key:0,class:"p-invalid"},Y={class:"field col-12"},G=c(()=>i("label",{for:"tipelibur"},"Tipe Libur",-1)),Q={key:0,class:"p-invalid"},X={class:"field col-12 mt-2"},Z={class:"p-float-label"},$=c(()=>i("label",{for:"birth_date"},"Tanggal Libur",-1)),ee={class:"flex align-items-center justify-content-center"},te=c(()=>i("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),le={key:0},se={class:"flex align-items-center justify-content-center"},oe=c(()=>i("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ie={key:0};function re(s,t,u,de,e,n){const y=a("Toast"),d=a("Button"),P=a("FileUpload"),C=a("Toolbar"),g=a("InputText"),p=a("Column"),k=a("DataTable"),D=a("Calendar"),v=a("Dialog");return m(),h("div",O,[i("div",U,[i("div",F,[o(y),o(C,{class:"mb-4"},{start:r(()=>[i("div",j,[o(d,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:n.FormNew},null,8,["onClick"]),o(d,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:n.confirmDeleteSelected,disabled:!e.selectedProducts||!e.selectedProducts.length},null,8,["onClick","disabled"])])]),end:r(()=>[o(P,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),o(d,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:t[0]||(t[0]=l=>n.exportCSV(l))})]),_:1}),o(k,{ref:"dt",value:e.products,selection:e.selectedProducts,"onUpdate:selection":t[2]||(t[2]=l=>e.selectedProducts=l),dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:r(()=>[i("div",M,[K,i("span",B,[R,o(g,{modelValue:e.filters.global.value,"onUpdate:modelValue":t[1]||(t[1]=l=>e.filters.global.value=l),placeholder:"Search..."},null,8,["modelValue"])])])]),default:r(()=>[o(p,{selectionMode:"multiple",headerStyle:"width: 5%"}),o(p,{field:"namagudang",header:"Tanggal  ",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(l=>[q,b(" "+f(l.data.code),1)]),_:1}),o(p,{field:"kantor",header:"Judul",sortable:!0,headerStyle:"width:25%; min-width:10rem;"},{body:r(l=>[z,b(" "+f(s.$h.formatNumber(l.data.price)),1)]),_:1}),o(p,{field:"kantor",header:"Tipe Libur",sortable:!0,headerStyle:"width:25%; min-width:10rem;"},{body:r(l=>[A,b(" "+f(s.$h.formatNumber(l.data.price)),1)]),_:1}),o(p,{headerStyle:"width:14%; min-width:10rem;"},{body:r(l=>[o(d,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:w=>n.editProduct(l.data)},null,8,["onClick"]),o(d,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:w=>n.confirmDeleteProduct(l.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),o(v,{visible:e.productDialog,"onUpdate:visible":t[6]||(t[6]=l=>e.productDialog=l),style:{width:"450px"},header:"Libur Details",modal:!0,class:"p-fluid"},{footer:r(()=>[o(d,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:n.HideDialog},null,8,["onClick"]),o(d,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:n.saveProduct},null,8,["onClick"])]),default:r(()=>[i("div",E,[i("div",H,[J,o(g,{id:"judullibur",modelValue:e.product.judullibur,"onUpdate:modelValue":t[3]||(t[3]=l=>e.product.judullibur=l),modelModifiers:{trim:!0},required:"true",autofocus:"",class:S({"p-invalid":e.isSubmitted&&!e.product.judullibur})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.judullibur?(m(),h("small",W,"required")):_("",!0)]),i("div",Y,[G,o(g,{id:"tipelibur",modelValue:e.product.tipelibur,"onUpdate:modelValue":t[4]||(t[4]=l=>e.product.tipelibur=l),modelModifiers:{trim:!0},required:"true",autofocus:"",class:S({"p-invalid":e.isSubmitted&&!e.product.tipelibur})},null,8,["modelValue","class"]),e.isSubmitted&&!e.product.tipelibur?(m(),h("small",Q,"required")):_("",!0)]),i("div",X,[i("span",Z,[o(D,{modelValue:e.date,"onUpdate:modelValue":t[5]||(t[5]=l=>e.date=l),inputId:"birth_date"},null,8,["modelValue"]),$])])])]),_:1},8,["visible"]),o(v,{visible:e.deleteProductDialog,"onUpdate:visible":t[8]||(t[8]=l=>e.deleteProductDialog=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[o(d,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[7]||(t[7]=l=>e.deleteProductDialog=!1)}),o(d,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deleteProduct},null,8,["onClick"])]),default:r(()=>[i("div",ee,[te,e.product?(m(),h("span",le,[b("Are you sure you want to delete "),i("b",null,f(e.product.name),1),b("?")])):_("",!0)])]),_:1},8,["visible"]),o(v,{visible:e.deleteProductsDialog,"onUpdate:visible":t[10]||(t[10]=l=>e.deleteProductsDialog=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[o(d,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[9]||(t[9]=l=>e.deleteProductsDialog=!1)}),o(d,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deleteSelectedProducts},null,8,["onClick"])]),default:r(()=>[i("div",se,[oe,e.product?(m(),h("span",ie,"Are you sure you want to delete the selected products?")):_("",!0)])]),_:1},8,["visible"])])])])}const ne=x(N,[["render",re],["__scopeId","data-v-c032c07f"]]);export{ne as default};
