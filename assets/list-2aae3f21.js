import{D as h,_ as P,F as V,r as o,o as r,c as d,b as l,d as i,e as n,l as y,t as b,m as L,q as F,n as k,f as B,k as I,p as M,g as A}from"./index-11eb6111.js";const _={index(){return h.get("/brand/")},store(e){return h.post("/brand/",e)},update(e,a){return h.patch("/brand/"+e,a)},show(e){return h.get("/brand"+e)},destroy(e){return h.delete("/brand/"+e)}};const U={data(){return{lBrand:null,brandDialog:!1,deletebrandDialog:!1,deletelBrandDialog:!1,brand:{},selectedlBrand:null,filters:{},isSubmitted:!1,isEdit:!1,selectedColumns:[{header:"Brand",field:"brand",class:"w-20rem"}],Columns:[{header:"Brand",field:"brand",class:"w-20rem"}]}},created(){this.initFilters()},mounted(){this.getData()},methods:{getData(){_.index().then(e=>{this.lBrand=e.data.data})},FormNew(){this.brand={},this.isSubmitted=!1,this.brandDialog=!0},HideDialog(){this.brandDialog=!1,this.isSubmitted=!1,this.isEdit=!1},Save(){this.isSubmitted=!0,this.isLoading=!0,this.brand&&(this.isEdit?_.update(this.brand.id,this.brand).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lBrand[this.lBrand.findIndex(a=>a.id==e.data.data.id)]=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.brandDialog=!1,this.isLoading=!1}):_.store(this.brand).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lBrand.push(e.data.data)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.isLoading=!1})),this.brand={},this.isSubmitted=!0,this.isEdit=!1},FormEdit(e){this.brand={...e},this.brandDialog=!0,this.isEdit=!0},confirmDelete(e){this.brand=e,this.deletebrandDialog=!0},Destroy(e){this.deletebrandDialog=!1,_.destroy(e.id).then(()=>{this.$toast.add({severity:"success",summary:"Successful",detail:"brand Deleted",life:3e3}),this.lBrand=this.lBrand.filter(a=>a.id!==e.id)}).catch(a=>{this.$toast.add({severity:"error",summary:"Error",detail:a.response.data.message,life:3e3})}),this.brand={}},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:V.CONTAINS}}}}},f=e=>(M("data-v-da901953"),e=e(),A(),e),R={class:"grid crud-demo"},q={class:"col-12"},j={class:"card"},z={class:"my-2"},H={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},O=f(()=>l("h5",{class:"m-0"},"Manage Brand",-1)),Y={class:"block mt-2 md:mt-0 p-input-icon-left"},K=f(()=>l("i",{class:"pi pi-search"},null,-1)),G={key:0},J={key:1},Q={key:2},W={key:3},X={key:4},Z={class:"field"},$=f(()=>l("label",{for:"brand"},"Name",-1)),ee={key:0,class:"p-invalid"},te={class:"flex align-items-center justify-content-center"},se=f(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ae={key:0};function ie(e,a,le,ne,s,m){const C=o("Toast"),p=o("Button"),S=o("MyExport"),w=o("Toolbar"),D=o("InputText"),g=o("Column"),E=o("Tag"),N=o("ActionButton"),T=o("DataTable"),x=o("Dialog");return r(),d("div",R,[l("div",q,[l("div",j,[i(C),i(w,{class:"mb-4"},{start:n(()=>[l("div",z,[i(p,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:m.FormNew},null,8,["onClick"])])]),end:n(()=>[i(S,{value:s.lBrand,selectedColumns:s.selectedColumns,title:"Export Brand"},null,8,["value","selectedColumns"])]),_:1}),i(T,{ref:"dt",value:s.lBrand,selection:s.selectedlBrand,"onUpdate:selection":a[1]||(a[1]=t=>s.selectedlBrand=t),dataKey:"id",paginator:!0,rows:10,filters:s.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} lBrand",responsiveLayout:"scroll"},{header:n(()=>[l("div",H,[O,l("span",Y,[K,i(D,{modelValue:s.filters.global.value,"onUpdate:modelValue":a[0]||(a[0]=t=>s.filters.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:n(()=>[i(g,{header:"#",headerStyle:"width:10px"},{body:n(t=>[y(b(t.index+1),1)]),_:1}),(r(!0),d(L,null,F(s.selectedColumns,(t,v)=>(r(),I(g,{field:t.field,header:t.header,class:k(t.class),key:t.field+"_"+v,sortable:!0},{body:n(({data:c,field:u})=>[u=="icon"?(r(),d("div",G,[i(p,{icon:c[u],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):u=="is_head_departemen"?(r(),d("div",J,[i(E,{value:c[u]?"Yes":"No",severity:e.getSeverity(c[u])},null,8,["value","severity"])])):t.type=="date"?(r(),d("div",Q,b(e.$h.formatDate(c[u])),1)):t.parent=="pegawai"?(r(),d("div",W,b(c.pegawai[u]),1)):(r(),d("div",X,b(c[u]),1))]),_:2},1032,["field","header","class"]))),128)),i(g,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:n(({data:t,index:v})=>[i(N,{data:t,index:v,onEdit:c=>m.FormEdit(t),onDelete:c=>m.confirmDelete(t)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","selection","filters"]),i(x,{visible:s.brandDialog,"onUpdate:visible":a[3]||(a[3]=t=>s.brandDialog=t),style:{width:"450px"},header:"brand Details",modal:!0,class:"p-fluid"},{footer:n(()=>[i(p,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:m.HideDialog},null,8,["onClick"]),i(p,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:m.Save},null,8,["onClick"])]),default:n(()=>[l("div",Z,[$,i(D,{id:"brand",modelValue:s.brand.brand,"onUpdate:modelValue":a[2]||(a[2]=t=>s.brand.brand=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:k({"p-invalid":s.isSubmitted&&!s.brand.brand})},null,8,["modelValue","class"]),s.isSubmitted&&!s.brand.brand?(r(),d("small",ee,"Name is required.")):B("",!0)])]),_:1},8,["visible"]),i(x,{visible:s.deletebrandDialog,"onUpdate:visible":a[6]||(a[6]=t=>s.deletebrandDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[i(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[4]||(a[4]=t=>s.deletebrandDialog=!1)}),i(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:a[5]||(a[5]=t=>m.Destroy(s.brand))})]),default:n(()=>[l("div",te,[se,s.brand?(r(),d("span",ae,[y("Are you sure you want to delete "),l("b",null,b(s.brand.brand),1),y("?")])):B("",!0)])]),_:1},8,["visible"])])])])}const re=P(U,[["render",ie],["__scopeId","data-v-da901953"]]);export{re as default};
