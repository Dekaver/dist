import{_ as T,F as E,r as n,o as d,c,b as o,d as i,e as a,l as b,t as k,m as N,q as V,f as L,k as F,n as I,p as B,g as K}from"./index-11eb6111.js";import{a as f}from"./api-27c516d8.js";const U={data(){return{lPtkp:null,ptkpDialog:!1,deleteptkpDialog:!1,deletelPtkpDialog:!1,ptkp:{},selectedlPtkp:null,filters:{},isSubmitted:!1,isEdit:!1,selectedColumns:[{header:"PTKP",field:"ptkp",class:"w-20rem"},{header:"Nominal",field:"nominal",class:"w-20rem"}],Columns:[{header:"PTKP",field:"ptkp",class:"w-20rem"},{header:"Nominal",field:"nominal",class:"w-20rem"}]}},created(){this.initFilters()},mounted(){this.getData()},methods:{getData(){f.index().then(e=>{this.lPtkp=e.data.data})},FormNew(){this.ptkp={},this.isSubmitted=!1,this.ptkpDialog=!0},HideDialog(){this.ptkpDialog=!1,this.isSubmitted=!1,this.isEdit=!1},Save(){this.isSubmitted=!0,this.isLoading=!0,this.ptkp&&(this.isEdit?f.update(this.ptkp.id,this.ptkp).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lPtkp[this.lPtkp.findIndex(s=>s.id==e.data.data.id)]=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.ptkpDialog=!1,this.isLoading=!1}):f.store(this.ptkp).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lPtkp.push(e.data.data)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.ptkpDialog=!1,this.isLoading=!1})),this.ptkp={},this.isSubmitted=!0,this.isEdit=!1},FormEdit(e){this.ptkp={...e},this.ptkpDialog=!0,this.isEdit=!0},confirmDelete(e){this.ptkp=e,this.deleteptkpDialog=!0},Destroy(e){this.deleteptkpDialog=!1,f.destroy(e.id).then(()=>{this.$toast.add({severity:"success",summary:"Successful",detail:"ptkp Deleted",life:3e3}),this.lPtkp=this.lPtkp.filter(s=>s.id!==e.id)}).catch(s=>{this.$toast.add({severity:"error",summary:"Error",detail:s.response.data.message,life:3e3})}),this.ptkp={}},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:E.CONTAINS}}}}},h=e=>(B("data-v-a6fcaeed"),e=e(),K(),e),A={class:"grid crud-demo"},M={class:"col-12"},R={class:"card"},q={class:"my-2"},j={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},z=h(()=>o("h5",{class:"m-0"},"PTKP",-1)),H={class:"block mt-2 md:mt-0 p-input-icon-left"},O=h(()=>o("i",{class:"pi pi-search"},null,-1)),Y={key:0},G={key:1},J={key:2},Q={class:"field"},W=h(()=>o("label",{for:"ptkp"},"PTKP",-1)),X={class:"field"},Z=h(()=>o("label",{for:"ptkp"},"Nominal",-1)),$={class:"flex align-items-center justify-content-center"},ee=h(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),te={key:0};function se(e,s,le,ie,l,p){const P=n("Toast"),r=n("Button"),D=n("MyExport"),x=n("Toolbar"),v=n("InputText"),_=n("Column"),C=n("ActionButton"),S=n("DataTable"),w=n("InputNumber"),y=n("Dialog");return d(),c("div",A,[o("div",M,[o("div",R,[i(P),i(x,{class:"mb-4"},{start:a(()=>[o("div",q,[i(r,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2",onClick:p.FormNew},null,8,["onClick"])])]),end:a(()=>[i(D,{value:l.lPtkp,selectedColumns:l.selectedColumns,title:"Export Ptkp"},null,8,["value","selectedColumns"])]),_:1}),i(S,{ref:"dt",value:l.lPtkp,selection:l.selectedlPtkp,"onUpdate:selection":s[1]||(s[1]=t=>l.selectedlPtkp=t),dataKey:"id",paginator:!0,rows:10,filters:l.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} lPtkp",responsiveLayout:"scroll"},{header:a(()=>[o("div",j,[z,o("span",H,[O,i(v,{modelValue:l.filters.global.value,"onUpdate:modelValue":s[0]||(s[0]=t=>l.filters.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:a(()=>[i(_,{header:"#",headerStyle:"width:10px"},{body:a(t=>[b(k(t.index+1),1)]),_:1}),(d(!0),c(N,null,V(l.selectedColumns,(t,g)=>(d(),F(_,{field:t.field,header:t.header,class:I(t.class),key:t.field+"_"+g,sortable:!0},{body:a(({data:u,field:m})=>[m=="icon"?(d(),c("div",Y,[i(r,{icon:u[m],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):m=="nominal"?(d(),c("div",G,k(e.$h.formatNumber(u[m])),1)):(d(),c("div",J,k(u[m]),1))]),_:2},1032,["field","header","class"]))),128)),i(_,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:a(({data:t,index:g})=>[i(C,{data:t,index:g,onEdit:u=>p.FormEdit(t),onDelete:u=>p.confirmDelete(t)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","selection","filters"]),i(y,{visible:l.ptkpDialog,"onUpdate:visible":s[4]||(s[4]=t=>l.ptkpDialog=t),style:{width:"450px"},header:"PTKP",modal:!0,class:"p-fluid"},{footer:a(()=>[i(r,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:p.HideDialog},null,8,["onClick"]),i(r,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:p.Save},null,8,["onClick"])]),default:a(()=>[o("div",Q,[W,i(v,{id:"ptkp",modelValue:l.ptkp.ptkp,"onUpdate:modelValue":s[2]||(s[2]=t=>l.ptkp.ptkp=t),required:"true",autofocus:""},null,8,["modelValue"])]),o("div",X,[Z,i(w,{id:"ptkp",modelValue:l.ptkp.nominal,"onUpdate:modelValue":s[3]||(s[3]=t=>l.ptkp.nominal=t),required:"true",autofocus:""},null,8,["modelValue"])])]),_:1},8,["visible"]),i(y,{visible:l.deleteptkpDialog,"onUpdate:visible":s[7]||(s[7]=t=>l.deleteptkpDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[i(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[5]||(s[5]=t=>l.deleteptkpDialog=!1)}),i(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:s[6]||(s[6]=t=>p.Destroy(l.ptkp))})]),default:a(()=>[o("div",$,[ee,l.ptkp?(d(),c("span",te,[b("Are you sure you want to delete "),o("b",null,k(l.ptkp.ptkp),1),b("?")])):L("",!0)])]),_:1},8,["visible"])])])])}const ne=T(U,[["render",se],["__scopeId","data-v-a6fcaeed"]]);export{ne as default};
