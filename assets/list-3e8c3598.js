import{_ as T,F as N,r,o,c as u,b as l,d as a,e as n,l as b,t as _,m as P,q as F,n as S,f as k,k as M,p as B,g as I}from"./index-11eb6111.js";import{a as f}from"./satuan-84ad7de8.js";const K={data(){return{lSatuan:[],satuanDialog:!1,deleteSatuanDialog:!1,satuan:{},selectedlSatuan:null,filters:{},isEdit:!1,isSubmitted:!1,selectedColumns:[{header:"Satuan",field:"satuan",class:"w-20rem"},{header:"Keterangan",field:"keterangan",class:"w-20rem"}],Columns:[{header:"Satuan",field:"satuan",class:"w-20rem"},{header:"Keterangan",field:"keterangan",class:"w-20rem"}]}},created(){this.initFilters()},mounted(){this.$isLoading.value=!1,this.getData()},methods:{getData(){f.index().then(e=>{this.lSatuan=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})})},FormNew(){this.satuan={},this.isSubmitted=!1,this.satuanDialog=!0},HideDialog(){this.satuanDialog=!1,this.isSubmitted=!1},Save(){try{this.isSubmitted=!0,this.$isLoading.value=!0,this.satuan.satuan.trim()&&(this.isEdit?f.update(this.satuan.id,this.satuan).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lSatuan[this.lSatuan.findIndex(i=>i.id===e.data.data.id)]=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.isLoading=!1,this.satuanDialog=!1,this.isEdit=!1}):f.store(this.satuan).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lSatuan.push(e.data.data)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.isLoading=!1}),this.satuan={},this.isSubmitted=!1)}catch(e){console.log(e)}finally{this.$timeoutLoading()}},FormEdit(e){this.satuan={...e},this.satuanDialog=!0,this.isEdit=!0},confirmDelete(e){this.satuan=e,this.deleteSatuanDialog=!0},Destroy(){this.deleteSatuanDialog=!1,f.destroy(this.satuan.id).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lSatuan=this.lSatuan.filter(i=>i.id!==this.satuan.id)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.satuan={}})},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:N.CONTAINS}}}}},m=e=>(B("data-v-f9e22b5b"),e=e(),I(),e),U={class:"grid crud-demo"},q={class:"col-12"},A={class:"card"},R={class:"my-2"},O={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},j=m(()=>l("h5",{class:"m-0"},"Manage Satuan",-1)),z={class:"block mt-2 md:mt-0 p-input-icon-left"},H=m(()=>l("i",{class:"pi pi-search"},null,-1)),Y=m(()=>l("hr",null,null,-1)),G=m(()=>l("div",{class:"text-center"},"Satuan is Empty",-1)),J=m(()=>l("hr",null,null,-1)),Q={key:0},W={key:1},X={key:2},Z={key:3},$={key:4},ee={class:"field"},te=m(()=>l("label",{for:"satuan"},"Satuan",-1)),se={key:0,class:"p-invalid"},ae={class:"field"},ie=m(()=>l("label",{for:"keterangan"},"Keterangan",-1)),le={key:0,class:"p-invalid"},ne={class:"flex align-items-center justify-content-center"},oe=m(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),re={key:0};function ue(e,i,de,ce,t,h){const x=r("Toast"),p=r("Button"),C=r("MyExport"),w=r("Toolbar"),g=r("InputText"),v=r("Column"),E=r("Tag"),L=r("ActionButton"),V=r("DataTable"),D=r("Dialog");return o(),u("div",U,[l("div",q,[l("div",A,[a(x),a(w,{class:"mb-4"},{start:n(()=>[l("div",R,[a(p,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:h.FormNew},null,8,["onClick"])])]),end:n(()=>[a(C,{value:t.lSatuan,selectedColumns:t.selectedColumns,title:"Export Satuan"},null,8,["value","selectedColumns"])]),_:1}),a(V,{ref:"dt",value:t.lSatuan,selection:t.selectedlSatuan,"onUpdate:selection":i[1]||(i[1]=s=>t.selectedlSatuan=s),dataKey:"id",paginator:!0,rows:10,filters:t.filters,sortMode:"single",sortField:"satuan",sortOrder:1,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Satuan",responsiveLayout:"scroll"},{header:n(()=>[l("div",O,[j,l("span",z,[H,a(g,{modelValue:t.filters.global.value,"onUpdate:modelValue":i[0]||(i[0]=s=>t.filters.global.value=s),placeholder:"Search..."},null,8,["modelValue"])])])]),empty:n(()=>[Y,G,J]),default:n(()=>[a(v,{header:"#",headerStyle:"width:10px"},{body:n(s=>[b(_(s.index+1),1)]),_:1}),(o(!0),u(P,null,F(t.selectedColumns,(s,y)=>(o(),M(v,{field:s.field,header:s.header,class:S(s.class),key:s.field+"_"+y,sortable:!0},{body:n(({data:d,field:c})=>[c=="icon"?(o(),u("div",Q,[a(p,{icon:d[c],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):c=="is_head_departemen"?(o(),u("div",W,[a(E,{value:d[c]?"Yes":"No",severity:d[c]?"open":"close"},null,8,["value","severity"])])):s.type=="date"?(o(),u("div",X,_(e.$h.formatDate(d[c])),1)):s.parent=="pegawai"?(o(),u("div",Z,_(d.pegawai[c]),1)):(o(),u("div",$,_(d[c]),1))]),_:2},1032,["field","header","class"]))),128)),a(v,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:n(({data:s,index:y})=>[a(L,{data:s,index:y,onEdit:d=>h.FormEdit(s),onDelete:d=>h.confirmDelete(s)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","selection","filters"]),a(D,{visible:t.satuanDialog,"onUpdate:visible":i[4]||(i[4]=s=>t.satuanDialog=s),style:{width:"450px"},header:"satuan Details",modal:!0,class:"p-fluid"},{footer:n(()=>[a(p,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:h.HideDialog},null,8,["onClick"]),a(p,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:h.Save,loading:e.$isLoading.value,disabled:e.$isLoading.value},null,8,["onClick","loading","disabled"])]),default:n(()=>[l("div",ee,[te,a(g,{id:"satuan",modelValue:t.satuan.satuan,"onUpdate:modelValue":i[2]||(i[2]=s=>t.satuan.satuan=s),modelModifiers:{trim:!0},required:"true",placeholder:"kg",autofocus:"",class:S({"p-invalid":t.isSubmitted&&!t.satuan.satuan})},null,8,["modelValue","class"]),t.isSubmitted&&!t.satuan.satuan?(o(),u("small",se,"Satuan is required.")):k("",!0)]),l("div",ae,[ie,a(g,{id:"keterangan",modelValue:t.satuan.keterangan,"onUpdate:modelValue":i[3]||(i[3]=s=>t.satuan.keterangan=s),modelModifiers:{trim:!0},required:"true",placeholder:"Kilogram",autofocus:"",class:S({"p-invalid":t.isSubmitted&&!t.satuan.keterangan})},null,8,["modelValue","class"]),t.isSubmitted&&!t.satuan.keterangan?(o(),u("small",le,"Keterangan is required.")):k("",!0)])]),_:1},8,["visible"]),a(D,{visible:t.deleteSatuanDialog,"onUpdate:visible":i[6]||(i[6]=s=>t.deleteSatuanDialog=s),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[a(p,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:i[5]||(i[5]=s=>t.deleteSatuanDialog=!1)}),a(p,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:h.Destroy},null,8,["onClick"])]),default:n(()=>[l("div",ne,[oe,t.satuan?(o(),u("span",re,[b("Are you sure you want to delete "),l("b",null,_(t.satuan.satuan),1),b("?")])):k("",!0)])]),_:1},8,["visible"])])])])}const pe=T(K,[["render",ue],["__scopeId","data-v-f9e22b5b"]]);export{pe as default};
