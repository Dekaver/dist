import{D as c,_ as w,F as K,r,o as h,c as k,b as a,d as s,e as l,l as g,t as f,n as E,f as y,p as N,g as P}from"./index-11eb6111.js";const m={index(){return c.get("/kontak/kategori")},store(e){return c.post("/kontak/kategori",e)},update(e,i){return c.patch("/kontak/kategori"+e,i)},show(e){return c.get("/kontak/kategori"+e)},destroy(e){return c.delete("/kontak/kategori"+e)}};const T={data(){return{lKategori:null,kategoriDialog:!1,deletekategoriDialog:!1,deletelKategoriDialog:!1,kategori:{},selectedlKategori:null,filters:{},isSubmitted:!1,isEdit:!1}},created(){this.initFilters()},mounted(){this.getData()},methods:{getData(){m.index().then(e=>{this.lKategori=e.data.data})},FormNew(){this.kategori={},this.isSubmitted=!1,this.kategoriDialog=!0},HideDialog(){this.kategoriDialog=!1,this.isSubmitted=!1},Save(){this.isSubmitted=!0,this.kategori.kategori.trim()&&(this.isEdit?m.update(this.kategori.id,this.kategori).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lKategori[this.lKategori.findIndex(i=>i.id==e.data.data.id)]=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.isEdit=!1,this.isLoading=!1,this.kategoriDialog=!1}):m.store(this.kategori).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lKategori.push(e.data.data)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.isLoading=!1}),this.kategori={},this.isSubmitted=!1)},FormEdit(e){this.isEdit=!0,this.kategori={...e},this.kategoriDialog=!0},FormDelete(e){this.kategori=e,this.deletekategoriDialog=!0},Destroy(){this.deletekategoriDialog=!1,m.destroy(this.kategori.id).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lKategori=this.lKategori.filter(i=>i.id!==this.kategori.id)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.getData()}),this.kategori={}},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:K.CONTAINS}}}}},u=e=>(N("data-v-a6fc4370"),e=e(),P(),e),V={class:"grid crud-demo"},F={class:"col-12"},I={class:"card"},L={class:"my-2"},M={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},B=u(()=>a("h5",{class:"m-0"},"Manage Kategori",-1)),U={class:"block mt-2 md:mt-0 p-input-icon-left"},A=u(()=>a("i",{class:"pi pi-search"},null,-1)),R=u(()=>a("span",{class:"p-column-title"},"Kategori",-1)),O={class:"field"},j=u(()=>a("label",{for:"kategori"},"Name",-1)),q={key:0,class:"p-invalid"},z={class:"flex align-items-center justify-content-center"},H=u(()=>a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Y={key:0};function G(e,i,J,Q,t,d){const v=r("Toast"),n=r("Button"),D=r("MyExport"),x=r("Toolbar"),_=r("InputText"),p=r("Column"),C=r("DataTable"),b=r("Dialog");return h(),k("div",V,[a("div",F,[a("div",I,[s(v),s(x,{class:"mb-4"},{start:l(()=>[a("div",L,[s(n,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:d.FormNew},null,8,["onClick"])])]),end:l(()=>[s(D,{value:e.filteredItems,selectedColumns:e.selectedColumns,title:"Export Purchase Order"},null,8,["value","selectedColumns"])]),_:1}),s(C,{ref:"dt",value:t.lKategori,selection:t.selectedlKategori,"onUpdate:selection":i[1]||(i[1]=o=>t.selectedlKategori=o),dataKey:"id",paginator:!0,rows:10,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} lKategori",responsiveLayout:"scroll"},{header:l(()=>[a("div",M,[B,a("span",U,[A,s(_,{modelValue:t.filters.global.value,"onUpdate:modelValue":i[0]||(i[0]=o=>t.filters.global.value=o),placeholder:"Search..."},null,8,["modelValue"])])])]),default:l(()=>[s(p,{header:"#",headerStyle:"width:10px"},{body:l(o=>[g(f(o.index+1),1)]),_:1}),s(p,{field:"kategori",header:"Kategori",sortable:!0,headerStyle:"min-width:10rem;"},{body:l(o=>[R,g(" "+f(o.data.kategori),1)]),_:1}),s(p,{header:"Action",headerStyle:"width:14%; min-width:10rem;"},{body:l(o=>[s(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-warning mr-2",onClick:S=>d.FormEdit(o.data)},null,8,["onClick"]),s(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger",onClick:S=>d.FormDelete(o.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),s(b,{visible:t.kategoriDialog,"onUpdate:visible":i[3]||(i[3]=o=>t.kategoriDialog=o),style:{width:"450px"},header:"kategori Details",modal:!0,class:"p-fluid"},{footer:l(()=>[s(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:d.HideDialog},null,8,["onClick"]),s(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:d.Save},null,8,["onClick"])]),default:l(()=>[a("div",O,[j,s(_,{id:"kategori",modelValue:t.kategori.kategori,"onUpdate:modelValue":i[2]||(i[2]=o=>t.kategori.kategori=o),modelModifiers:{trim:!0},required:"true",autofocus:"",class:E({"p-invalid":t.isSubmitted&&!t.kategori.kategori})},null,8,["modelValue","class"]),t.isSubmitted&&!t.kategori.kategori?(h(),k("small",q,"Name is required.")):y("",!0)])]),_:1},8,["visible"]),s(b,{visible:t.deletekategoriDialog,"onUpdate:visible":i[5]||(i[5]=o=>t.deletekategoriDialog=o),style:{width:"450px"},header:"Confirm",modal:!0},{footer:l(()=>[s(n,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:i[4]||(i[4]=o=>t.deletekategoriDialog=!1)}),s(n,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:d.Destroy},null,8,["onClick"])]),default:l(()=>[a("div",z,[H,t.kategori?(h(),k("span",Y,[g("Are you sure you want to delete "),a("b",null,f(t.kategori.kategori),1),g("?")])):y("",!0)])]),_:1},8,["visible"])])])])}const X=w(T,[["render",G],["__scopeId","data-v-a6fc4370"]]);export{X as default};
