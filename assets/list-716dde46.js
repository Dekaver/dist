import{_ as P,F as V,r as d,o as a,c as o,b as t,d as i,e as n,l as y,t as _,m as k,q as v,f as L,k as N,n as E,p as I,g as K}from"./index-11eb6111.js";import{a as x}from"./cuti-b6d37e9d.js";import{_ as A}from"./data-empty-73bd2e8a.js";const M={data(){return{filter:!0,lKebijakanCuti:null,deleteFormDialog:!1,Columns:[{field:"nama_cuti",header:"Nama Kebijakan",class:"left"},{field:"batasan",header:"Batasan",class:"text-left"},{field:"all_employee",header:"Ketentuan",class:"text-left"},{field:"cuti_jabatan",header:"",class:"text-left"},{field:"sub_cuti",header:"Sub Cuti",class:"text-left"}],FormError:{},filters:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{getData(){x.getKebijakanCuti().then(s=>{this.lKebijakanCuti=s.data.data}).catch(()=>{this.$toast.add({severity:"error",summary:"Failed",detail:"Load Data Absensi ",life:3e3})})},showHideFilter(){this.filter=!this.filter},async destroy(s){await x.delete(s.id).then(l=>{this.$toast.add({severity:"success",summary:"Successful",detail:l.data.message,life:3e3}),this.getData(),this.deleteFormDialog=!1})},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:V.CONTAINS}}},confirmDelete(s){this.item={...s},this.deleteFormDialog=!0},FormEdit(s){this.$router.push({name:"cuti.edit",params:{id:s.id}})},selectTanggal(s){this.f.tanggal=this.$h.Date(s)}}},m=s=>(I("data-v-eecb3d68"),s=s(),K(),s),R={class:"grid crud-demo"},z={class:"col-12"},O={class:"card"},U={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},q=m(()=>t("h5",{class:"m-0"},"Daftar Master Cuti",-1)),H={class:"block mt-2 md:mt-0 p-input-icon-left"},Y=m(()=>t("i",{class:"pi pi-search"},null,-1)),$=m(()=>t("div",{class:"flex flex-column gap-2 justify-content-center align-items-center"},[t("img",{src:A,alt:"",style:{width:"300px"}}),t("div",{class:"text-4xl"},"Belum ada data.")],-1)),G={key:0},J={key:0},Q=m(()=>t("span",null,"Saldo cuti tidak berbatas",-1)),W=[Q],X={key:1},Z={key:1},ee={key:0},te=m(()=>t("span",null,"Berlaku untuk seluruh karyawan",-1)),se=[te],ae={key:1},oe=m(()=>t("span",null,"Berlaku untuk karyawan dengan jabatan:",-1)),ie=[oe],le={key:2},ne={class:"list-group"},re={key:3},de={class:"list-group"},ce={key:4},ue={class:"flex align-items-center justify-content-center"},_e=m(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),me={key:0};function pe(s,l,he,fe,c,h){const C=d("Toast"),f=d("Button"),D=d("router-link"),w=d("Toolbar"),S=d("InputText"),b=d("Column"),F=d("ActionButton"),j=d("DataTable"),T=d("Dialog");return a(),o("div",R,[t("div",z,[t("div",O,[i(C),i(w,{class:"mb-4"},{start:n(()=>[i(D,{to:"/hrd/cuti/create",class:"btn btn-added me-2"},{default:n(()=>[i(f,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2"})]),_:1})]),end:n(()=>[i(f,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:l[0]||(l[0]=e=>h.exportCSV(e))})]),_:1}),i(j,{ref:"dt",value:c.lKebijakanCuti,dataKey:"id",paginator:!0,rows:10,filters:c.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} pegawai",responsiveLayout:"scroll"},{header:n(()=>[t("div",U,[q,t("span",H,[Y,i(S,{modelValue:c.filters.global.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),empty:n(()=>[$]),default:n(()=>[i(b,{header:"#",headerStyle:"width:10px"},{body:n(e=>[y(_(e.index+1),1)]),_:1}),(a(!0),o(k,null,v(c.Columns,(e,g)=>(a(),N(b,{field:e.field,header:e.header,headerStyle:e.width,class:E(e.class),key:e.field+"_"+g},{body:n(({data:u,field:r})=>[r=="batasan"?(a(),o("div",G,[u[r]?(a(),o("div",J,W)):(a(),o("div",X,[t("span",null,"Saldo cuti "+_(u.saldo)+" hari kerja",1)]))])):r=="all_employee"?(a(),o("div",Z,[u[r]?(a(),o("div",ee,se)):(a(),o("div",ae,ie))])):r=="cuti_jabatan"?(a(),o("div",le,[t("ul",ne,[(a(!0),o(k,null,v(u[r],(p,B)=>(a(),o("li",{class:"list-group-item mb-4",key:p.id_jabatan},_(p.jabatan),1))),128))])])):r=="sub_cuti"?(a(),o("div",re,[t("ul",de,[(a(!0),o(k,null,v(u[r],(p,B)=>(a(),o("li",{class:"list-group-item mb-4",key:p.id},_(p.nama_sub_cuti)+": "+_(p.jumlahhari)+" hari kerja ",1))),128))])])):(a(),o("div",ce,_(u[r]),1))]),_:2},1032,["field","header","headerStyle","class"]))),128)),i(b,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:n(({data:e,index:g})=>[i(F,{data:e,index:g,onEdit:u=>h.FormEdit(e),onDelete:u=>h.confirmDelete(e)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","filters"]),i(T,{visible:c.deleteFormDialog,"onUpdate:visible":l[4]||(l[4]=e=>c.deleteFormDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[i(f,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:l[2]||(l[2]=e=>c.deleteFormDialog=!1)}),i(f,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:l[3]||(l[3]=e=>h.destroy(s.item))})]),default:n(()=>[t("div",ue,[_e,s.item?(a(),o("span",me,[y("Are you sure you want to delete "),t("b",null,_(s.item.nama_cuti),1),y("?")])):L("",!0)])]),_:1},8,["visible"])])])])}const ke=P(M,[["render",pe],["__scopeId","data-v-eecb3d68"]]);export{ke as default};
