import{_ as w,F as E,r as a,o as n,c as u,b as o,d as l,e as r,l as v,t as p,m as P,q as V,f as L,k as N,n as F,p as B,g as I}from"./index-11eb6111.js";import{a as f}from"./api-2cd2ff16.js";const R={data(){return{lTer:null,terDialog:!1,deleteterDialog:!1,deletelTerDialog:!1,ter:{},selectedlTer:null,filters:{},isSubmitted:!1,isEdit:!1,selectedColumns:[{header:"Ter",field:"ter",class:"w-20rem"}],Columns:[{header:"Ter",field:"ter",class:"w-20rem"}]}},created(){this.initFilters()},mounted(){this.getData()},methods:{getData(){f.index().then(e=>{this.lTer=e.data.data})},FormNew(){this.ter={},this.isSubmitted=!1,this.terDialog=!0},HideDialog(){this.terDialog=!1,this.isSubmitted=!1,this.isEdit=!1},Save(){this.isSubmitted=!0,this.isLoading=!0,this.ter&&(this.isEdit?f.update(this.ter.id,this.ter).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lTer[this.lTer.findIndex(s=>s.id==e.data.data.id)]=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.terDialog=!1,this.isLoading=!1}):f.store(this.ter).then(e=>{this.$toast.add({severity:"success",summary:"Successful",detail:e.data.message,life:3e3}),this.lTer.push(e.data.data)}).catch(e=>{this.$toast.add({severity:"error",summary:"Error",detail:e.response.data.message,life:3e3})}).finally(()=>{this.terDialog=!1,this.isLoading=!1})),this.ter={},this.isSubmitted=!0,this.isEdit=!1},FormEdit(e){this.ter={...e},this.terDialog=!0,this.isEdit=!0},confirmDelete(e){this.ter=e,this.deleteterDialog=!0},Destroy(e){this.deleteterDialog=!1,f.destroy(e.id).then(()=>{this.$toast.add({severity:"success",summary:"Successful",detail:"ter Deleted",life:3e3}),this.lTer=this.lTer.filter(s=>s.id!==e.id)}).catch(s=>{this.$toast.add({severity:"error",summary:"Error",detail:s.response.data.message,life:3e3})}),this.ter={}},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:E.CONTAINS}}}}},_=e=>(B("data-v-33788063"),e=e(),I(),e),A={class:"grid crud-demo"},M={class:"col-12"},U={class:"card"},j={class:"my-2"},q={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},z=_(()=>o("h5",{class:"m-0"},"TER",-1)),H={class:"block mt-2 md:mt-0 p-input-icon-left"},O=_(()=>o("i",{class:"pi pi-search"},null,-1)),K={key:0},Y={key:1},G={key:2},J={class:"field"},Q=_(()=>o("label",{for:"ter"},"TER",-1)),W={class:"flex align-items-center justify-content-center"},X=_(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Z={key:0};function $(e,s,ee,te,i,d){const D=a("Toast"),c=a("Button"),x=a("MyExport"),k=a("Toolbar"),y=a("InputText"),g=a("Column"),C=a("ActionButton"),S=a("DataTable"),T=a("Dialog");return n(),u("div",A,[o("div",M,[o("div",U,[l(D),l(k,{class:"mb-4"},{start:r(()=>[o("div",j,[l(c,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2",onClick:d.FormNew},null,8,["onClick"])])]),end:r(()=>[l(x,{value:i.lTer,selectedColumns:i.selectedColumns,title:"Export Ter"},null,8,["value","selectedColumns"])]),_:1}),l(S,{ref:"dt",value:i.lTer,selection:i.selectedlTer,"onUpdate:selection":s[1]||(s[1]=t=>i.selectedlTer=t),dataKey:"id",paginator:!0,rows:10,filters:i.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} lTer",responsiveLayout:"scroll"},{header:r(()=>[o("div",q,[z,o("span",H,[O,l(y,{modelValue:i.filters.global.value,"onUpdate:modelValue":s[0]||(s[0]=t=>i.filters.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:r(()=>[l(g,{header:"#",headerStyle:"width:10px"},{body:r(t=>[v(p(t.index+1),1)]),_:1}),(n(!0),u(P,null,V(i.selectedColumns,(t,b)=>(n(),N(g,{field:t.field,header:t.header,class:F(t.class),key:t.field+"_"+b,sortable:!0},{body:r(({data:m,field:h})=>[h=="icon"?(n(),u("div",K,[l(c,{icon:m[h],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):h=="nominal"?(n(),u("div",Y,p(e.$h.formatNumber(m[h])),1)):(n(),u("div",G,p(m[h]),1))]),_:2},1032,["field","header","class"]))),128)),l(g,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:r(({data:t,index:b})=>[l(C,{data:t,index:b,onEdit:m=>d.FormEdit(t),onDelete:m=>d.confirmDelete(t)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","selection","filters"]),l(T,{visible:i.terDialog,"onUpdate:visible":s[3]||(s[3]=t=>i.terDialog=t),style:{width:"450px"},header:"TER",modal:!0,class:"p-fluid"},{footer:r(()=>[l(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:d.HideDialog},null,8,["onClick"]),l(c,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:d.Save},null,8,["onClick"])]),default:r(()=>[o("div",J,[Q,l(y,{id:"ter",modelValue:i.ter.ter,"onUpdate:modelValue":s[2]||(s[2]=t=>i.ter.ter=t),required:"true",autofocus:""},null,8,["modelValue"])])]),_:1},8,["visible"]),l(T,{visible:i.deleteterDialog,"onUpdate:visible":s[6]||(s[6]=t=>i.deleteterDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[4]||(s[4]=t=>i.deleteterDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:s[5]||(s[5]=t=>d.Destroy(i.ter))})]),default:r(()=>[o("div",W,[X,i.ter?(n(),u("span",Z,[v("Are you sure you want to delete "),o("b",null,p(i.ter.ter),1),v("?")])):L("",!0)])]),_:1},8,["visible"])])])])}const le=w(R,[["render",$],["__scopeId","data-v-33788063"]]);export{le as default};
