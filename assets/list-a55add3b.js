import{_ as F,F as B,r as c,o as e,c as t,b as s,d as r,e as u,l as f,t as i,m as g,q as v,f as V,k as N,n as E,p as I,g as K}from"./index-11eb6111.js";import{a as j}from"./lembur-41c5a566.js";import{_ as A}from"./data-empty-73bd2e8a.js";const J={data(){return{lKebijakanLembur:null,deleteFormDialog:!1,Columns:[{field:"nama",header:"Nama",class:"left"},{field:"kebijakan",header:"Kebijakan",class:"text-left"},{field:"persetujuan_1",header:"Persetujuan 1",class:"text-left"},{field:"persetujuan_2",header:"Persetujuan 2",class:"text-left"},{field:"persetujuan_3",header:"Persetujuan 3",class:"text-left"},{field:"persetujuan_4",header:"Persetujuan 4",class:"text-left"}],FormError:{},filters:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{getData(){j.getKebijakanLembur().then(l=>{this.lKebijakanLembur=l.data.data}).catch(()=>{this.$toast.add({severity:"error",summary:"Failed",detail:"Load Data Lembur ",life:3e3})})},async destroy(l){await j.destroy(l.id).then(d=>{this.$toast.add({severity:"success",summary:"Successful",detail:d.data.message,life:3e3}),this.getData(),this.deleteFormDialog=!1})},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:B.CONTAINS}}},confirmDelete(l){this.item={...l},this.deleteFormDialog=!0},formEdit(l){this.$router.push({name:"lembur.edit",params:{id:l.id}})}}},p=l=>(I("data-v-ad6aef83"),l=l(),K(),l),R={class:"grid crud-demo"},M={class:"col-12"},z={class:"card"},O={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},U=p(()=>s("h5",{class:"m-0"},"Daftar Kebijakan Lembur",-1)),q={class:"block mt-2 md:mt-0 p-input-icon-left"},Y=p(()=>s("i",{class:"pi pi-search"},null,-1)),$=p(()=>s("div",{class:"flex flex-column gap-2 justify-content-center align-items-center"},[s("img",{src:A,alt:"",style:{width:"300px"}}),s("div",{class:"text-4xl"},"Belum ada data.")],-1)),G={key:0},H={key:0},Q=p(()=>s("span",null,"Standard Lembur",-1)),W=[Q],X={key:1},Z={key:1},ee={key:0},te={key:1},se={key:2},ae={key:0},oe={key:1},ne={key:3},ie={key:0},le={key:1},re={key:4},de={key:0},ue={key:1},ce={key:5},_e={class:"list-group"},me={key:6},pe={class:"list-group"},he={key:7},be={class:"flex align-items-center justify-content-center"},ye=p(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ke={key:0};function fe(l,d,ge,ve,_,h){const x=c("Toast"),b=c("Button"),D=c("router-link"),w=c("Toolbar"),C=c("InputText"),y=c("Column"),L=c("ActionButton"),T=c("DataTable"),P=c("Dialog");return e(),t("div",R,[s("div",M,[s("div",z,[r(x),r(w,{class:"mb-4"},{start:u(()=>[r(D,{to:"/hrd/lembur/create",class:"btn btn-added me-2"},{default:u(()=>[r(b,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2"})]),_:1})]),end:u(()=>[r(b,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:d[0]||(d[0]=n=>h.exportCSV(n))})]),_:1}),r(T,{ref:"dt",value:_.lKebijakanLembur,dataKey:"id",paginator:!0,rows:10,filters:_.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} pegawai",responsiveLayout:"scroll"},{header:u(()=>[s("div",O,[U,s("span",q,[Y,r(C,{modelValue:_.filters.global.value,"onUpdate:modelValue":d[1]||(d[1]=n=>_.filters.global.value=n),placeholder:"Search..."},null,8,["modelValue"])])])]),empty:u(()=>[$]),default:u(()=>[r(y,{header:"#",headerStyle:"width:10px"},{body:u(n=>[f(i(n.index+1),1)]),_:1}),(e(!0),t(g,null,v(_.Columns,(n,k)=>(e(),N(y,{field:n.field,header:n.header,headerStyle:n.width,class:E(n.class),key:n.field+"_"+k},{body:u(({data:a,field:o})=>[o=="kebijakan"?(e(),t("div",G,[a[o]?(e(),t("div",H,W)):(e(),t("div",X,[s("span",null,"Biaya Lembur: "+i(l.$h.formatCurrency(a.biaya)),1)]))])):o=="persetujuan_1"?(e(),t("div",Z,[a[o]==="Jabatan Tertentu"?(e(),t("div",ee,[s("span",null,i(a[o])+" : "+i(a.jabatan1),1)])):(e(),t("div",te,[s("span",null,i(a[o]),1)]))])):o=="persetujuan_2"?(e(),t("div",se,[a[o]==="Jabatan Tertentu"?(e(),t("div",ae,[s("span",null,i(a[o])+" : "+i(a.jabatan2),1)])):(e(),t("div",oe,[s("span",null,i(a[o]),1)]))])):o=="persetujuan_3"?(e(),t("div",ne,[a[o]==="Jabatan Tertentu"?(e(),t("div",ie,[s("span",null,i(a[o])+" : "+i(a.jabatan3),1)])):(e(),t("div",le,[s("span",null,i(a[o]),1)]))])):o=="persetujuan_4"?(e(),t("div",re,[a[o]==="Jabatan Tertentu"?(e(),t("div",de,[s("span",null,i(a[o])+" : "+i(a.jabatan4),1)])):(e(),t("div",ue,[s("span",null,i(a[o]),1)]))])):o=="cuti_jabatan"?(e(),t("div",ce,[s("ul",_e,[(e(!0),t(g,null,v(a[o],(m,S)=>(e(),t("li",{class:"list-group-item mb-4",key:m.id_jabatan},i(m.jabatan),1))),128))])])):o=="sub_cuti"?(e(),t("div",me,[s("ul",pe,[(e(!0),t(g,null,v(a[o],(m,S)=>(e(),t("li",{class:"list-group-item mb-4",key:m.id},i(m.nama_sub_cuti)+": "+i(m.jumlahhari)+" hari kerja ",1))),128))])])):(e(),t("div",he,i(a[o]),1))]),_:2},1032,["field","header","headerStyle","class"]))),128)),r(y,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:u(({data:n,index:k})=>[r(L,{data:n,index:k,onEdit:a=>h.formEdit(n),onDelete:a=>h.confirmDelete(n)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","filters"]),r(P,{visible:_.deleteFormDialog,"onUpdate:visible":d[4]||(d[4]=n=>_.deleteFormDialog=n),style:{width:"450px"},header:"Confirm",modal:!0},{footer:u(()=>[r(b,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:d[2]||(d[2]=n=>_.deleteFormDialog=!1)}),r(b,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:d[3]||(d[3]=n=>h.destroy(l.item))})]),default:u(()=>[s("div",be,[ye,l.item?(e(),t("span",ke,[f("Are you sure you want to delete "),s("b",null,i(l.item.nama),1),f("?")])):V("",!0)])]),_:1},8,["visible"])])])])}const we=F(J,[["render",fe],["__scopeId","data-v-ad6aef83"]]);export{we as default};
