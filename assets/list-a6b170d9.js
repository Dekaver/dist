import{_ as B,F as N,r as a,o as r,c as d,b as i,d as t,e as n,l as _,t as m,m as D,q as T,n as g,f as U,k as q}from"./index-11eb6111.js";import{a as x}from"./jadwalkerja-c25c7d6d.js";const A={data(){return{lItem:[],item:{},selectedItem:null,lTipe:[],selectedTipe:null,filters:{},selectedColumns:[{field:"nama_kebijakan",header:"Nama Kebijakan",class:"w-20rem"},{field:"jenis",header:"Jenis",class:"w-20rem"},{field:"start_date",header:"Tanggal Mulai",class:"w-20rem"},{field:"waktu",header:"Waktu",class:"w-20rem"}],Columns:[{field:"nama_kebijakan",header:"Nama Kebijakan",class:"w-20rem"},{field:"jenis",header:"Jenis",class:"w-20rem"},{field:"start_date",header:"Tanggal Mulai",class:"w-20rem"},{field:"waktu",header:"Waktu",class:"w-20rem"}],isClean:!0,isEdit:!1,formDialog:!1,deleteFormDialog:!1}},created(){this.initFilters()},mounted(){this.getData()},methods:{async getData(){await x.index().then(s=>{this.lItem=s.data.data})},Destroy(s){this.lItem=this.lItem.filter(l=>l.id!==s.id),x.delete(s.id).then(l=>{this.$toast.add({severity:"success",summary:"Successful",detail:l.data.message,life:3e3}),this.getData(),this.deleteFormDialog=!1})},initFilters(){this.filters={global:{value:null,matchMode:N.CONTAINS}}},exportCSV(){this.$refs.dt.exportCSV()},FormEdit(s){this.$router.push({name:"jadwal-kerja.edit",params:{id:s.id}})},confirmDelete(s){this.item={...s},this.deleteFormDialog=!0},selectTipe(s){this.item.hari_libur_tipe_id=s.value.id,this.item.tipe=s.value.tipe},HideDialog(){this.formDialog=!1}}},K={class:"grid crud-demo"},R={class:"col-12"},J={class:"card"},H={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},O=i("h5",{class:"m-0"},"Daftar Jadwal Kerja",-1),z={class:"block mt-2 ml-2 md:mt-0 p-input-icon-left"},W=i("i",{class:"pi pi-search"},null,-1),G=i("div",{class:"text-center"},"Empty",-1),Y={key:0},Q={key:1},X={key:0},Z=i("span",null,"Mingguan",-1),$=[Z],ee={key:1},te=i("span",null,"Harian",-1),oe=[te],le={key:2},se={class:"list-group"},ie={key:0},ne={key:1},ae={key:3},re={class:"formgrid grid"},de={class:"field col-12"},me={class:"field col-12"},ce={class:"field col-12"},ue={class:"flex align-items-center justify-content-center"},pe=i("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),_e={key:0};function he(s,l,fe,ge,o,h){const F=a("Toast"),f=a("Button"),V=a("router-link"),E=a("MyExport"),j=a("Toolbar"),M=a("MultiSelect"),y=a("InputText"),k=a("Column"),S=a("ActionButton"),I=a("DataTable"),b=a("Label"),w=a("ErrorMsg"),L=a("Calendar"),P=a("Dropdown"),C=a("Dialog");return r(),d("div",K,[i("div",R,[i("div",J,[t(F),t(j,{class:"mb-4"},{start:n(()=>[t(V,{to:"/hrd/jadwal-kerja/create",class:"btn btn-added me-2"},{default:n(()=>[t(f,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2"})]),_:1})]),end:n(()=>[t(E,{value:o.lItem,selectedColumns:o.selectedColumns,title:"Export Item"},null,8,["value","selectedColumns"])]),_:1}),t(I,{ref:"dt",value:o.lItem,dataKey:"id",paginator:!0,rows:10,filters:o.filters,rowGroupMode:"rowspan",groupRowsBy:"id",sortMode:"single",sortField:"id",sortOrder:1,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{header:n(()=>[i("div",H,[O,t(M,{modelValue:o.selectedColumns,"onUpdate:modelValue":l[0]||(l[0]=e=>o.selectedColumns=e),options:o.Columns,optionLabel:"header",placeholder:"Select Column",class:"w-full md:w-20rem ml-auto"},null,8,["modelValue","options"]),i("span",z,[W,t(y,{modelValue:o.filters.global.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),empty:n(()=>[G]),default:n(()=>[t(k,{header:"#",headerStyle:"width:10px"},{body:n(e=>[_(m(e.index+1),1)]),_:1}),(r(!0),d(D,null,T(o.selectedColumns,(e,v)=>(r(),q(k,{field:e.field,header:e.header,class:g(e.class),key:e.field+"_"+v,sortable:!0},{body:n(({data:u,field:c})=>[c=="start_date"?(r(),d("div",Y,m(s.$h.formatDate(u[c])),1)):c=="jenis"?(r(),d("div",Q,[u[c]=="m"?(r(),d("div",X,$)):(r(),d("div",ee,oe))])):c=="waktu"?(r(),d("div",le,[i("ul",se,[(r(!0),d(D,null,T(u[c],(p,ke)=>(r(),d("li",{class:"list-group-item mb-4",key:p.id},[p.selected?(r(),d("div",ie,m(p.nama_waktu)+": "+m(p.time_in)+" s/d "+m(p.time_out),1)):(r(),d("div",ne,m(p.nama_waktu)+": Libur ",1))]))),128))])])):(r(),d("div",ae,m(u[c]),1))]),_:2},1032,["field","header","class"]))),128)),t(k,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:n(({data:e,index:v})=>[t(S,{data:e,index:v,onEdit:u=>h.FormEdit(e),onDelete:u=>h.confirmDelete(e)},null,8,["data","index","onEdit","onDelete"])]),_:1})]),_:1},8,["value","filters"]),t(C,{visible:o.formDialog,"onUpdate:visible":l[5]||(l[5]=e=>o.formDialog=e),style:{width:"450px"},header:"Form Item",modal:!0,class:"p-fluid"},{footer:n(()=>[t(f,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:h.HideDialog},null,8,["onClick"]),t(f,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:s.Save},null,8,["onClick"])]),default:n(()=>[i("div",re,[i("div",de,[t(b,{required:"",for:"item"},{default:n(()=>[_("Nama")]),_:1}),t(y,{id:"item",modelValue:o.item.nama,"onUpdate:modelValue":l[2]||(l[2]=e=>o.item.nama=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:g(s.FormError.nama&&"p-invalid")},null,8,["modelValue","class"]),t(w,{error:s.FormError.nama},null,8,["error"])]),i("div",me,[t(b,{required:"",for:"item"},{default:n(()=>[_("Tanggal")]),_:1}),t(L,{modelValue:o.item.tanggal,"onUpdate:modelValue":l[3]||(l[3]=e=>o.item.tanggal=e),showButtonBar:"",showIcon:"",iconDisplay:"input",class:g(s.FormError.tanggal&&"p-invalid")},null,8,["modelValue","class"]),t(w,{error:s.FormError.tanggal},null,8,["error"])]),i("div",ce,[t(b,{required:"",for:"item"},{default:n(()=>[_("Tipe")]),_:1}),t(P,{modelValue:o.selectedTipe,"onUpdate:modelValue":l[4]||(l[4]=e=>o.selectedTipe=e),options:o.lTipe,optionLabel:"tipe",placeholder:"Select a Tipe",onChange:h.selectTipe,class:g(s.FormError.tipe&&"p-invalid")},null,8,["modelValue","options","onChange","class"]),t(w,{error:s.FormError.tipe},null,8,["error"])])])]),_:1},8,["visible"]),t(C,{visible:o.deleteFormDialog,"onUpdate:visible":l[8]||(l[8]=e=>o.deleteFormDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[t(f,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:l[6]||(l[6]=e=>o.deleteFormDialog=!1)}),t(f,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:l[7]||(l[7]=e=>h.Destroy(o.item))})]),default:n(()=>[i("div",ue,[pe,o.item?(r(),d("span",_e,[_("Are you sure you want to delete "),i("b",null,m(o.item.nama),1),_("?")])):U("",!0)])]),_:1},8,["visible"])])])])}const ve=B(A,[["render",he]]);export{ve as default};
