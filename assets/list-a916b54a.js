import{_ as T,F as I,r as s,o as a,c as d,b as i,d as r,e as l,m as y,q as S,k as E,t as c,n as m,p as N,g as C}from"./index-11eb6111.js";import{a as D}from"./index-fa5c02f8.js";import K from"./export-c3327840.js";import{_ as L}from"./data-empty-73bd2e8a.js";import"./xlsx.min-b21a3818.js";const j={components:{Export:K},data(){return{columns:[{field:"invoice",header:"No Invoice",expander:!0},{field:"invoice_date",header:"Tanggal Invoice",type:"date"},{field:"due_date",header:"Jatuh Tempo",type:"date"},{field:"amount",header:"Nilai Invoice",class:"justify-content-end",type:"currency"},{field:"pay",header:"Bayar",class:"justify-content-end",type:"currency"},{field:"discount",header:"Diskon",class:"justify-content-end",type:"currency"},{field:"sisa",header:"Sisa Tagihan",class:"justify-content-end",type:"currency"},{field:"umur_overdue",header:"Umur Jatuh Tempo",type:"number"},{field:"keterangan",header:"Keterangan"}],lItem:[{key:"0",data:{nomor:"012",tanggal:"AKING SPAREPART"},children:[{key:"0-0",data:{nomor:"AP00007423",tanggal:"01-01-2023",invoice:"-",tanggalinv:"23-08-2023",jatuhtempo:"23-08-2023",totalinv:"9,300,000.00",bayar:"9,300,000.00    ",sisatagihan:"9,300,000.00",umurtempo:"33",nopo:"2023/VIII/PO/EMS/0018",keterangan:"Tagihan Pembelian Sparepart"}},{key:"0-1",data:{nomor:"AP00007023",tanggal:"25-08-2023",invoice:"-",tanggalinv:"25-08-2023",jatuhtempo:"25-08-2023",totalinv:"28,330,000.00",bayar:"9,300,000.00    ",sisatagihan:"28,330,000.00",umurtempo:"31",nopo:"2023/VII/PO/EMS/0011",keterangan:"Tagihan Pembelian Sparepart"}}]}],filters:{},expandedKeys:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{exportToXLSX(){this.$refs.Export.exportToXLSX()},async getData(){await D.laporanAr().then(n=>{this.lItem=n.data.data,this.lItem.map(o=>this.expandedKeys[o.key]=!0)}).catch(n=>{this.$toast.add({severity:"error",summary:"Error",detail:n.response.data.message,life:3e3})})},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:I.CONTAINS}}}}},u=n=>(N("data-v-8b82623e"),n=n(),C(),n),B={class:"grid crud-demo"},X={class:"col-12"},$={class:"card"},w=u(()=>i("h5",{class:"mb-0"},"Laporan Piutang belum lunas",-1)),A={class:"card-body"},V={key:0},F={key:0},M={key:1,class:"text-right"},O={key:1},R={key:2,class:"text-right"},J={key:0},U={key:1},q={key:2},z={key:3},G=u(()=>i("div",{class:"flex flex-column gap-2 justify-content-center align-items-center"},[i("div",{class:"text-4xl"},"Loading...")],-1)),H=u(()=>i("div",{class:"flex flex-column gap-2 justify-content-center align-items-center"},[i("img",{src:L,alt:"",style:{width:"300px"}}),i("div",{class:"text-4xl"},"Belum ada data.")],-1));function Q(n,o,W,Y,p,_){const h=s("Toast"),f=s("Button"),v=s("Toolbar"),g=s("Tag"),x=s("Column"),b=s("TreeTable"),k=s("Export");return a(),d(y,null,[i("div",B,[i("div",X,[i("div",$,[r(h),r(v,{class:"mb-2"},{start:l(()=>[w]),end:l(()=>[r(f,{label:"Export XLSX",icon:"pi pi-upload",class:"p-button-help",onClick:o[0]||(o[0]=e=>_.exportToXLSX())})]),_:1}),i("div",A,[r(b,{expandedKeys:p.expandedKeys,"onUpdate:expandedKeys":o[1]||(o[1]=e=>p.expandedKeys=e),value:p.lItem,indentation:"1",scrollable:""},{loading:l(()=>[G]),empty:l(()=>[H]),default:l(()=>[(a(!0),d(y,null,S(p.columns,e=>(a(),E(x,{key:e.field,field:e.field,header:e.header,expander:e.expander},{body:l(t=>[e.type=="date"?(a(),d("div",V,[new Date(t.node.data[e.field])instanceof Date&&!isNaN(new Date(t.node.data[e.field]))?(a(),d("div",F,c(n.$h.formatDate(new Date(t.node.data[e.field]))),1)):(a(),d("div",{key:1,class:m(t.node.data.style)},c(t.node.data[e.field]),3))])):e.type=="currency"?(a(),d("div",M,[t.node.data[e.field]?(a(),d("div",{key:0,class:m(t.node.data.style)},c(n.$h.formatNumber(t.node.data[e.field])),3)):(a(),d("div",O))])):e.type=="number"?(a(),d("div",R,[t.node.data[e.field]?(a(),d("div",J,c(n.$h.formatNumber(t.node.data[e.field])),1)):t.node.data[e.field]==0?(a(),d("div",U,"Today")):(a(),d("div",q))])):n.field=="status"?(a(),d("div",z,[r(g,{style:{float:"right"},value:n.$h.getLabel(t.node.data[e.field]),severity:n.$h.getLabel(t.node.data[e.field])},null,8,["value","severity"])])):(a(),d("div",{key:4,class:m(t.node.data.style)},c(t.node.data[e.field]),3))]),_:2},1032,["field","header","expander"]))),128))]),_:1},8,["expandedKeys","value"])])])])]),r(k,{ref:"Export",style:{display:"none"}},null,512)],64)}const ne=T(j,[["render",Q],["__scopeId","data-v-8b82623e"]]);export{ne as default};
