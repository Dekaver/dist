import{_ as F,F as L,r as i,o as c,c as m,b as t,d as s,e as o,n as _,t as u,l as p,f as v,p as N,g as I}from"./index-11eb6111.js";import{a as P}from"./assembly-a780fa93.js";const B={data(){return{items:[],periodeawal:null,periodeakhir:null,assemblys:null,assembly:{},selectedAssembly:null,filters:{},statuses:[{label:"Draft",value:"Draft"},{label:"Send",value:"Send"},{label:"DO Process",value:"DO Process"},{label:"DO Complete",value:"DO Complete"},{label:"Cancel",value:"Cancel"}],lassemblys:null,filter:!1}},assemblyService:null,created(){this.initFilters()},mounted(){this.getData()},methods:{FormEdit(a){this.$router.push(`/assembly/${a.id}/edit`)},getData(){P.index().then(a=>{this.items=a.data.data}).catch(()=>{this.$toast.add({severity:"error",summary:"Failed",detail:"Load Assembly",life:3e3})})},showHideFilter(){this.filter=!this.filter},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:L.CONTAINS}}}}},n=a=>(N("data-v-6104d493"),a=a(),I(),a),E={class:"grid crud-demo"},O={class:"col-12"},U={class:"card"},M={class:"my-2"},R=n(()=>t("h5",{class:"mbe-4"},"Pencarian Assembly",-1)),j={class:"p-fluid formgrid grid"},q={class:"field col-2"},H={class:"p-float-label"},G=n(()=>t("p",{class:"mb-1"},"Periode Awal",-1)),J={class:"field col-2"},z={class:"p-float-label"},K=n(()=>t("p",{class:"mb-1"},"Periode Akhir",-1)),Q={class:"field col-2"},W={class:"p-float-label"},X=n(()=>t("p",{class:"mb-1"},"Customer",-1)),Y={class:"field col-2 d-flex justifiy-content-center align-items-end mb-0"},Z=n(()=>t("label",{for:"salesquotation",class:"mb-1"},"Status",-1)),$={key:0},ee={key:1},te={key:2},se={class:"field col-auto",style:{display:"flex","align-items":"flex-end","align-content":"flex-end"}},ae={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},le=n(()=>t("h5",{class:"m-0"},"Assembly",-1)),oe={class:"block mt-2 md:mt-0 p-input-icon-left"},ne=n(()=>t("i",{class:"pi pi-search"},null,-1)),ie=n(()=>t("span",{class:"p-column-title"},"Nomor",-1)),de=n(()=>t("span",{class:"p-column-title"},"barang",-1)),re=n(()=>t("span",{class:"p-column-title"},"gudang",-1)),ue=n(()=>t("span",{class:"p-column-title"},"Jenis",-1)),ce={key:0},me={key:1},pe=n(()=>t("span",{class:"p-column-title"},"grandtotal",-1)),_e=n(()=>t("span",{class:"p-column-title"},"harga satuan",-1)),be=n(()=>t("span",{class:"p-column-title"},"Status",-1));function he(a,d,fe,ve,l,h){const g=i("Toast"),b=i("Button"),y=i("router-link"),C=i("MyExport"),k=i("Toolbar"),f=i("Calendar"),w=i("AutoComplete"),S=i("Dropdown"),V=i("InputText"),r=i("Column"),D=i("Tag"),T=i("ActionButton"),x=i("DataTable");return c(),m("div",E,[t("div",O,[t("div",U,[s(g),s(k,{class:"mb-4"},{start:o(()=>[t("div",M,[s(y,{to:"/assembly/create",class:"btn btn-added me-2"},{default:o(()=>[s(b,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2"})]),_:1}),s(b,{icon:"pi pi-filter",class:_(["p-button mx-2",{"p-button-block":l.filter,"p-button-outlined":!l.filter}]),onClick:h.showHideFilter},null,8,["onClick","class"])])]),end:o(()=>[s(C,{value:a.filteredItems,selectedColumns:a.selectedColumns,title:"Export Purchase Order"},null,8,["value","selectedColumns"])]),_:1}),t("div",{class:_(["card",{hidden:!l.filter}])},[R,t("div",j,[t("div",q,[t("span",H,[G,s(f,{dateFormat:"dd-mm-yy",modelValue:l.periodeawal,"onUpdate:modelValue":d[0]||(d[0]=e=>l.periodeawal=e),inputId:"periodeawal"},null,8,["modelValue"])])]),t("div",J,[t("span",z,[K,s(f,{dateFormat:"dd-mm-yy",modelValue:l.periodeakhir,"onUpdate:modelValue":d[1]||(d[1]=e=>l.periodeakhir=e),inputId:"periodeakhir"},null,8,["modelValue"])])]),t("div",Q,[t("span",W,[X,s(w,{modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=e=>a.value=e),dropdown:"",suggestions:l.items,onComplete:a.search},null,8,["modelValue","suggestions","onComplete"])])]),t("div",Y,[Z,s(S,{id:"salesquotation",modelValue:l.assembly.salesquotation,"onUpdate:modelValue":d[3]||(d[3]=e=>l.assembly.salesquotation=e),options:l.statuses,optionLabel:"label",placeholder:"Status"},{value:o(e=>[e.value&&e.value.value?(c(),m("div",$,[t("span",{class:_("assembly-badge status-"+e.value.value)},u(e.value.label),3)])):e.value&&!e.value.value?(c(),m("div",ee,[t("span",{class:_("assembly-badge status-"+e.value.toLowerCase())},u(e.value),3)])):(c(),m("span",te,u(e.placeholder),1))]),_:1},8,["modelValue","options"])]),t("div",se,[s(b,{label:"Search"})])])],2),s(x,{ref:"dt",value:l.items,selection:l.selectedAssembly,"onUpdate:selection":d[5]||(d[5]=e=>l.selectedAssembly=e),dataKey:"id",paginator:!0,rows:10,filters:l.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} assemblys",responsiveLayout:"scroll",tableStyle:"table-layout:auto"},{header:o(()=>[t("div",ae,[le,t("span",oe,[ne,s(V,{modelValue:l.filters.global.value,"onUpdate:modelValue":d[4]||(d[4]=e=>l.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:o(()=>[s(r,{field:"nomor",header:"Nomor",sortable:!0},{body:o(e=>[ie,p(" "+u(e.data.nomor),1)]),_:1}),s(r,{field:"barang",header:"Barang",sortable:!0},{body:o(e=>[de,p(" "+u(e.data.barang),1)]),_:1}),s(r,{field:"gudang",header:"Gudang",sortable:!0},{body:o(e=>[re,p(" "+u(e.data.gudang),1)]),_:1}),s(r,{field:"inventoryStatus",header:"Jenis",sortable:!0},{body:o(e=>[ue,e.data.jenis=="P"?(c(),m("p",ce,"Penguraian")):v("",!0),e.data.jenis=="R"?(c(),m("p",me,"Perakitan")):v("",!0)]),_:1}),s(r,{field:"grandtotal",header:"Grand Total",sortable:!0},{body:o(e=>[pe,p(" "+u(a.$h.formatNumber(e.data.grandtotal)),1)]),_:1}),s(r,{field:"harga_satuan",header:"Harga Satuan",sortable:!0},{body:o(e=>[_e,p(" "+u(a.$h.formatNumber(e.data.harga_satuan)),1)]),_:1}),s(r,{field:"inventoryStatus",header:"Status",sortable:!0},{body:o(e=>[be,s(D,{value:a.$h.getLabel(e.data.status),severity:a.$h.getLabel(e.data.status)},null,8,["value","severity"])]),_:1}),s(r,null,{body:o(e=>[s(T,{data:a.data,index:a.index,onEdit:A=>h.FormEdit(e.data),onDelete:A=>a.confirmDelete(e.data),showDelete:e.data.status=="D"},null,8,["data","index","onEdit","onDelete","showDelete"])]),_:1})]),_:1},8,["value","selection","filters"])])])])}const Ce=F(B,[["render",he],["__scopeId","data-v-6104d493"]]);export{Ce as default};
