import{_ as I,F as T,r as o,o as n,c as d,b as s,d as l,e as c,m as y,q as S,k as N,n as m,W as E,t as p,p as D,g as w}from"./index-11eb6111.js";import{a as C}from"./index-fa5c02f8.js";import K from"./export-206759bf.js";import{_ as L}from"./data-empty-73bd2e8a.js";import"./xlsx.min-b21a3818.js";const j={components:{Export:K},data(){return{periodeawal:null,periodeakhir:null,columns:[{field:"ap_number",header:"Nomor",expander:!0},{field:"date",header:"Tanggal",type:"date"},{field:"invoice_number",header:"Invoice"},{field:"invoice_date",header:"Tanggal Invoice",type:"date"},{field:"due_date",header:"Jatuh Tempo",type:"date"},{field:"amount",header:"Nilai Invoice",class:"justify-content-end",type:"currency"},{field:"pay",header:"Bayar",class:"justify-content-end",type:"currency"},{field:"discount",header:"Diskon",class:"justify-content-end",type:"currency"},{field:"sisa",header:"Sisa Tagihan",class:"justify-content-end",type:"currency"},{field:"umur_overdue",header:"Umur Jatuh Tempo",type:"number"},{field:"po_number",header:"Nomor PO"},{field:"keterangan",header:"Keterangan"}],lItem:[{key:"0",data:{nomor:"012",tanggal:"AKING SPAREPART"},children:[{key:"0-0",data:{nomor:"AP00007423",tanggal:"01-01-2023",invoice:"-",tanggalinv:"23-08-2023",jatuhtempo:"23-08-2023",totalinv:"9,300,000.00",bayar:"9,300,000.00    ",sisatagihan:"9,300,000.00",umurtempo:"33",nopo:"2023/VIII/PO/EMS/0018",keterangan:"Tagihan Pembelian Sparepart"}},{key:"0-1",data:{nomor:"AP00007023",tanggal:"25-08-2023",invoice:"-",tanggalinv:"25-08-2023",jatuhtempo:"25-08-2023",totalinv:"28,330,000.00",bayar:"9,300,000.00    ",sisatagihan:"28,330,000.00",umurtempo:"31",nopo:"2023/VII/PO/EMS/0011",keterangan:"Tagihan Pembelian Sparepart"}}]}],filters:{},expandedKeys:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{exportToXLSX(){this.$refs.Export.exportToXLSX()},async getData(){await C.laporanAp().then(t=>{this.lItem=t.data.data,this.lItem.map(r=>this.expandedKeys[r.key]=!0)}).catch(t=>{this.$toast.add({severity:"error",summary:"Error",detail:t.response.data.message,life:3e3})})},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:T.CONTAINS}}}}},u=t=>(D("data-v-0d175f8a"),t=t(),w(),t),B={class:"grid crud-demo"},X={class:"col-12"},A={class:"card"},V=u(()=>s("h5",{class:"mb-0"},"Laporan Hutang belum lunas",-1)),F={class:"card-body"},M={key:0},$={key:0},O={key:1,class:"text-right"},R={key:1},z={key:2,class:"text-right"},J={key:0},U={key:1},q={key:3},G=u(()=>s("div",{class:"flex flex-column gap-2 justify-content-center align-items-center"},[s("div",{class:"text-4xl"},"Loading...")],-1)),H=u(()=>s("div",{class:"flex flex-column gap-2 justify-content-center align-items-center"},[s("img",{src:L,alt:"",style:{width:"300px"}}),s("div",{class:"text-4xl"},"Belum ada data.")],-1));function W(t,r,Q,Y,i,h){const _=o("Toast"),f=o("Button"),g=o("Toolbar"),v=o("Tag"),x=o("Column"),b=o("TreeTable"),k=o("Export");return n(),d(y,null,[s("div",B,[s("div",X,[s("div",A,[l(_),l(g,{class:"mb-2"},{start:c(()=>[V]),end:c(()=>[l(f,{label:"Export XLSX",icon:"pi pi-upload",class:"p-button-help",onClick:r[0]||(r[0]=e=>h.exportToXLSX()),disabled:!i.lItem.length>0,loading:!i.lItem.length>0},null,8,["disabled","loading"])]),_:1}),s("div",F,[l(b,{expandedKeys:i.expandedKeys,"onUpdate:expandedKeys":r[1]||(r[1]=e=>i.expandedKeys=e),value:i.lItem,indentation:"1",scrollable:"",scrollDirection:"both"},{loading:c(()=>[G]),empty:c(()=>[H]),default:c(()=>[(n(!0),d(y,null,S(i.columns,e=>(n(),N(x,{key:e.field,field:e.field,header:e.header,class:m(e.class),expander:e.expander,style:E([e.style,{width:"150px"}])},{body:c(a=>[e.type=="date"?(n(),d("div",M,[new Date(a.node.data[e.field])instanceof Date&&!isNaN(new Date(a.node.data[e.field]))?(n(),d("div",$,p(t.$h.formatDate(new Date(a.node.data[e.field]))),1)):(n(),d("div",{key:1,class:m(a.node.data.style)},p(a.node.data[e.field]),3))])):e.type=="currency"?(n(),d("div",O,[a.node.data[e.field]?(n(),d("div",{key:0,class:m(a.node.data.style)},p(t.$h.formatNumber(a.node.data[e.field])),3)):(n(),d("div",R))])):e.type=="number"?(n(),d("div",z,[a.node.data[e.field]?(n(),d("div",J,p(t.$h.formatNumber(a.node.data[e.field])),1)):(n(),d("div",U))])):t.field=="status"?(n(),d("div",q,[l(v,{style:{float:"right"},value:t.$h.getLabel(a.node.data[e.field]),severity:t.$h.getLabel(a.node.data[e.field])},null,8,["value","severity"])])):(n(),d("div",{key:4,class:m(a.node.data.style)},p(a.node.data[e.field]),3))]),_:2},1032,["field","header","class","expander","style"]))),128))]),_:1},8,["expandedKeys","value"])])])])]),l(k,{ref:"Export",style:{display:"none"},lItem:i.lItem},null,8,["lItem"])],64)}const ne=I(j,[["render",W],["__scopeId","data-v-0d175f8a"]]);export{ne as default};
