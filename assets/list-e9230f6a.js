import{a as _}from"./index-fa5c02f8.js";import{_ as k,r as i,o as c,c as g,b as n,d as t,e as d,l as u,k as w,f as B,m as v}from"./index-11eb6111.js";const y={data(){return{filename:"Laba Rugi.pdf",f:{awal:null,akhir:null,tahun:null},selectedAwalBulan:null,selectedAkhirBulan:null,bulan:[{id:1,nama:"Januari"},{id:2,nama:"February"},{id:3,nama:"Maret"},{id:4,nama:"April"},{id:5,nama:"Mei"},{id:6,nama:"Juni"},{id:7,nama:"Juli"},{id:8,nama:"Agustus"},{id:9,nama:"September"},{id:10,nama:"Oktober"},{id:11,nama:"November"},{id:12,nama:"Desember"}],pdfSource:null}},mounted(){this.f.awal=this.$route.query.awal||1,this.f.akhir=this.$route.query.akhir||12,this.f.tahun=this.$route.query.tahun||new Date().getFullYear(),this.selectedAwalBulan=this.bulan.find(a=>a.id==this.f.awal),this.selectedAkhirBulan=this.bulan.find(a=>a.id==this.f.akhir),this.$isLoading.value=!0,this.getData().finally(()=>{})},methods:{async getData(){this.$isLoading.value=!0,this.f.awal=this.selectedAwalBulan.id,this.f.akhir=this.selectedAkhirBulan.id,await _.getLabaRugi(this.f).then(a=>{const l=new Blob([a.data],{type:"application/pdf"});this.pdfSource=URL.createObjectURL(l)}).finally(()=>{this.$timeoutLoading()})}}},A={id:"form-card",class:"card"},L={class:"p-fluid formgrid flex align-items-center"},V={class:"field col-2"},D={class:"field col-2"},x={class:"field col-2"},C={class:"field col-2"};function S(a,l,q,F,e,m){const s=i("Label"),r=i("Dropdown"),h=i("InputText"),f=i("Button"),p=i("Skeleton"),b=i("MyCetakPDF");return c(),g(v,null,[n("div",A,[n("div",L,[n("div",V,[t(s,{for:"bulan",required:""},{default:d(()=>[u("Periode Awal")]),_:1}),t(r,{id:"bulan",modelValue:e.selectedAwalBulan,"onUpdate:modelValue":l[0]||(l[0]=o=>e.selectedAwalBulan=o),options:e.bulan,optionLabel:"nama"},null,8,["modelValue","options"])]),n("div",D,[t(s,{for:"bulan",required:""},{default:d(()=>[u("Periode Akhir")]),_:1}),t(r,{id:"bulan",modelValue:e.selectedAkhirBulan,"onUpdate:modelValue":l[1]||(l[1]=o=>e.selectedAkhirBulan=o),options:e.bulan,optionLabel:"nama"},null,8,["modelValue","options"])]),n("div",x,[t(s,{for:"tahun",required:""},{default:d(()=>[u("Tahun")]),_:1}),t(h,{id:"tahun",type:"text",modelValue:e.f.tahun,"onUpdate:modelValue":l[2]||(l[2]=o=>e.f.tahun=o)},null,8,["modelValue"])]),n("div",C,[t(f,{class:"mt-4",label:"Search",severity:"primary",icon:"pi pi-search",onClick:m.getData,disabled:a.$isLoading.value,loading:a.$isLoading.value},null,8,["onClick","disabled","loading"])])])]),n("div",null,[a.$isLoading.value?(c(),w(p,{key:0,width:"100%",height:"720px"})):B("",!0),t(b,{source:e.pdfSource,filename:e.filename},null,8,["source","filename"])])],64)}const U=k(y,[["render",S]]);export{U as default};
