import{_ as V,F as I,r as c,o as p,c as m,b as l,d as s,e as d,l as v,t as n,n as b,f as k,p as j,g as T}from"./index-11eb6111.js";import{P as L}from"./ProductService-0ec95d2b.js";const O={data(){return{products:null,checked:!0,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},isSubmitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],lproducts:null,editingRows:[]}},productService:null,created(){this.productService=new L,this.initFilters()},mounted(){this.productService.getProducts().then(i=>this.products=i),this.productService.getProducts().then(i=>this.lproducts=i)},methods:{FormNew(){this.product={},this.isSubmitted=!1,this.productDialog=!0},HideDialog(){this.productDialog=!1,this.isSubmitted=!1},saveProduct(){this.isSubmitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(i){this.product={...i},this.productDialog=!0},confirmDeleteProduct(i){this.product=i,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(i=>i.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(i){let t=-1;for(let r=0;r<this.products.length;r++)if(this.products[r].id===i){t=r;break}return t},createId(){let i="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)i+=t.charAt(Math.floor(Math.random()*t.length));return i},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(i=>!this.selectedProducts.includes(i)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:I.CONTAINS}}},onRowEditSave(i){let{newData:t,index:r}=i;this.products[r]=t},getStatusLabel(i){switch(i){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return null}}}},a=i=>(j("data-v-bdb94262"),i=i(),T(),i),U={class:"grid crud-demo"},F={class:"col-12"},A={class:"card"},K={class:"my-2"},B={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},M=a(()=>l("h5",{class:"m-0"},"Manajemen Pajak",-1)),E={class:"block mt-2 md:mt-0 p-input-icon-left"},R=a(()=>l("i",{class:"pi pi-search"},null,-1)),z=a(()=>l("span",{class:"p-column-title"},"Nama",-1)),q=a(()=>l("span",{class:"p-column-title"},"Nilai Efektif",-1)),H=a(()=>l("span",{class:"p-column-title"},"Pemotongan",-1)),W=a(()=>l("span",{class:"p-column-title"},"Akun Pajak Penjualan",-1)),Y=a(()=>l("span",{class:"p-column-title"},"Akun Pajak Pembelian",-1)),G={class:"formgrid grid"},J={class:"field col-12 d-flex justifiy-content-center align-items-end"},Q=a(()=>l("label",{for:"kodeproduk"},"Nama",-1)),X={key:0,class:"p-invalid"},Z={class:"field col-12 d-flex justifiy-content-center align-items-end"},$=a(()=>l("label",{for:"name"},"Nilai Efektif Beli",-1)),ee={class:"col-12 mb-3"},te={class:""},oe=a(()=>l("span",{id:"switch1",style:{position:"relative",bottom:"8px",left:"8px"}},"Nilai Pemotongan",-1)),le={class:"field col-12 d-flex justifiy-content-center align-items-end"},se=a(()=>l("label",{for:"inventoryStatus",class:"mb-2"},"Akun Pajak Penjulan",-1)),ie={key:0},de={key:1},ae={key:2},ne={class:"field col-12 d-flex justifiy-content-center align-items-end"},ue=a(()=>l("label",{for:"inventoryStatus",class:"mb-2"},"Akun Pajak Pembelian",-1)),ce={key:0},re={key:1},pe={key:2},me={class:"flex align-items-center justify-content-center"},he=a(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),fe={key:0},ve={class:"flex align-items-center justify-content-center"},be=a(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),_e={key:0};function ke(i,t,r,ge,o,h){const S=c("Toast"),u=c("Button"),P=c("FileUpload"),w=c("Toolbar"),g=c("InputText"),f=c("Column"),C=c("DataTable"),D=c("InputNumber"),x=c("InputSwitch"),y=c("Dropdown"),_=c("Dialog");return p(),m("div",U,[l("div",F,[l("div",A,[s(S),s(w,{class:"mb-4"},{start:d(()=>[l("div",K,[s(u,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:h.FormNew},null,8,["onClick"]),s(u,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:h.confirmDeleteSelected,disabled:!o.selectedProducts||!o.selectedProducts.length},null,8,["onClick","disabled"])])]),end:d(()=>[s(P,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),s(u,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:t[0]||(t[0]=e=>h.exportCSV(e))})]),_:1}),s(C,{ref:"dt",value:o.products,selection:o.selectedProducts,"onUpdate:selection":t[2]||(t[2]=e=>o.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:o.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d(()=>[l("div",B,[M,l("span",E,[R,s(g,{modelValue:o.filters.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[s(f,{selectionMode:"multiple",headerStyle:"width: 1rem"}),s(f,{field:"nama",header:"Nama",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[z,v(" "+n(e.data.code),1)]),_:1}),s(f,{field:"nilaiefektif",header:"Nilai Efektif",sortable:!0,headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[q,v(" "+n(i.$h.formatNumber(e.data.price)),1)]),_:1}),s(f,{header:"Pemotongan",headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[H,v(" "+n(e.data.name),1)]),_:1}),s(f,{field:"akunpajakpenjualan",header:"Akun Pajak Penjualan",sortable:!0,headerStyle:"width:20%; min-width:8rem;"},{body:d(e=>[W,v(" "+n(i.$h.formatNumber(e.data.name)),1)]),_:1}),s(f,{field:"akunpajakpembelian",header:"Akun Pajak Pembelian",sortable:!0,headerStyle:"width:20%; min-width:10rem;"},{body:d(e=>[Y,v(" "+n(i.$h.formatNumber(e.data.name)),1)]),_:1}),s(f,{headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[s(u,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:N=>h.editProduct(e.data)},null,8,["onClick"]),s(u,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:N=>h.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),s(_,{visible:o.productDialog,"onUpdate:visible":t[8]||(t[8]=e=>o.productDialog=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:d(()=>[s(u,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:h.HideDialog},null,8,["onClick"]),s(u,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:h.saveProduct},null,8,["onClick"])]),default:d(()=>[l("div",G,[l("div",J,[Q,s(g,{id:"kodeproduk",modelValue:o.product.kodeproduk,"onUpdate:modelValue":t[3]||(t[3]=e=>o.product.kodeproduk=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":o.isSubmitted&&!o.product.kodeproduk})},null,8,["modelValue","class"]),o.isSubmitted&&!o.product.kodeproduk?(p(),m("small",X,"Kode Produk is required.")):k("",!0)]),l("div",Z,[$,s(D,{modelValue:i.value1,"onUpdate:modelValue":t[4]||(t[4]=e=>i.value1=e),inputId:"integeronly"},null,8,["modelValue"])]),l("div",ee,[l("div",te,[s(x,{modelValue:o.checked,"onUpdate:modelValue":t[5]||(t[5]=e=>o.checked=e),"aria-labelledby":"switch1"},null,8,["modelValue"]),oe])]),l("div",le,[se,s(y,{id:"inventoryStatus",modelValue:o.product.inventoryStatus,"onUpdate:modelValue":t[6]||(t[6]=e=>o.product.inventoryStatus=e),options:o.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(p(),m("div",ie,[l("span",{class:b("product-badge status-"+e.value.value)},n(e.value.label),3)])):e.value&&!e.value.value?(p(),m("div",de,[l("span",{class:b("product-badge status-"+e.value.toLowerCase())},n(e.value),3)])):(p(),m("span",ae,n(e.placeholder),1))]),_:1},8,["modelValue","options"])]),l("div",ne,[ue,s(y,{id:"inventoryStatus",modelValue:o.product.inventoryStatus,"onUpdate:modelValue":t[7]||(t[7]=e=>o.product.inventoryStatus=e),options:o.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(p(),m("div",ce,[l("span",{class:b("product-badge status-"+e.value.value)},n(e.value.label),3)])):e.value&&!e.value.value?(p(),m("div",re,[l("span",{class:b("product-badge status-"+e.value.toLowerCase())},n(e.value),3)])):(p(),m("span",pe,n(e.placeholder),1))]),_:1},8,["modelValue","options"])])])]),_:1},8,["visible"]),s(_,{visible:o.deleteProductDialog,"onUpdate:visible":t[10]||(t[10]=e=>o.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[s(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[9]||(t[9]=e=>o.deleteProductDialog=!1)}),s(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:h.deleteProduct},null,8,["onClick"])]),default:d(()=>[l("div",me,[he,o.product?(p(),m("span",fe,[v("Are you sure you want to delete "),l("b",null,n(o.product.name),1),v("?")])):k("",!0)])]),_:1},8,["visible"]),s(_,{visible:o.deleteProductsDialog,"onUpdate:visible":t[12]||(t[12]=e=>o.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[s(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[11]||(t[11]=e=>o.deleteProductsDialog=!1)}),s(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:h.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[l("div",ve,[be,o.product?(p(),m("span",_e,"Are you sure you want to delete the selected products?")):k("",!0)])]),_:1},8,["visible"])])])])}const Pe=V(O,[["render",ke],["__scopeId","data-v-bdb94262"]]);export{Pe as default};
