import{_ as C,F as S,r as l,o as n,c as i,b as d,d as a,e as u,l as T,t as p,m as P,q as D,k as I,n as L,p as V,g as F}from"./index-11eb6111.js";import{a as N}from"./paymentap-dead24ec.js";const B={data(){return{item:null,selectedItem:null,lItem:[],selectedColumns:[{field:"tanggal",header:"Tanggal",type:"date"},{field:"nomor",header:"Nomor"},{field:"keterangan_pr",header:"Keterangan"},{field:"created_name",header:"Dibuat Oleh"},{field:"total",header:"Total",class:"text-right",type:"currency"},{field:"status_pr",header:"Status"}],Columns:[{field:"tanggal",header:"Tanggal",type:"date"},{field:"nomor",header:"Nomor"},{field:"keterangan_pr",header:"Keterangan"},{field:"created_name",header:"Dibuat Oleh"},{field:"total",header:"Total",class:"text-right",type:"currency"},{field:"status_pr",header:"Status"}],filter:!1,filters:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{async getData(){await N.getPersetujuan().then(e=>{this.lItem=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Failed",detail:e.response.data.message,life:3e3})})},showHideFilter(){this.filter=!this.filter},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:S.CONTAINS}}},FormEdit(e){this.$router.push({name:"pr.edit",params:{id:e.id}})},ondblclick(e){this.$router.push({name:"pr.edit",params:{id:e.data.id}})},confirmDelete(e){this.deleteDialog=!0,this.item={...e}}}},g=e=>(V("data-v-e43560ef"),e=e(),F(),e),R={class:"grid crud-demo"},j={class:"col-12"},A={class:"card"},E={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},M=g(()=>d("h5",{class:"m-0"},"Invoice Persetujuan",-1)),O={class:"flex gap-2 col-12 md:col-5"},K={class:"block p-input-icon-left w-full"},U=g(()=>d("i",{class:"pi pi-search"},null,-1)),q={key:0},z={key:1},H={key:2},$={key:3,class:"text-right"},G={key:4};function J(e,c,Q,W,s,_){const f=l("Toast"),v=l("InputText"),y=l("MultiSelect"),m=l("Column"),b=l("Button"),k=l("Tag"),w=l("ActionButton"),x=l("DataTable");return n(),i("div",R,[d("div",j,[d("div",A,[a(f),a(x,{ref:"dt",value:s.lItem,selection:s.selectedItem,"onUpdate:selection":c[2]||(c[2]=t=>s.selectedItem=t),dataKey:"id",paginator:!0,rows:10,"selection-mode":"single",onRowDblclick:_.ondblclick,filters:s.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Purchase request",responsiveLayout:"scroll"},{header:u(()=>[d("div",E,[M,d("div",O,[d("span",K,[U,a(v,{modelValue:s.filters.global.value,"onUpdate:modelValue":c[0]||(c[0]=t=>s.filters.global.value=t),placeholder:"Search...",class:"w-full"},null,8,["modelValue"])]),a(y,{modelValue:s.selectedColumns,"onUpdate:modelValue":c[1]||(c[1]=t=>s.selectedColumns=t),options:s.Columns,optionLabel:"header",placeholder:"Select Column",class:"w-3rem"},null,8,["modelValue","options"])])])]),default:u(()=>[a(m,{header:"#",headerStyle:"width:10px"},{body:u(t=>[T(p(t.index+1),1)]),_:1}),(n(!0),i(P,null,D(s.selectedColumns,(t,h)=>(n(),I(m,{field:t.field,header:t.header,class:L(t.class),key:t.field+"_"+h,sortable:!0},{body:u(({data:r,field:o})=>[o=="icon"?(n(),i("div",q,[a(b,{icon:r[o],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):o=="status_pr"?(n(),i("div",z,[a(k,{value:e.$h.getLabel(r[o]),severity:e.$h.getLabel(r[o])},null,8,["value","severity"])])):o=="tanggal"?(n(),i("div",H,p(e.$h.formatDate(r[o])),1)):o=="total"?(n(),i("div",$,p(e.$h.formatNumber(r[o])),1)):(n(),i("div",G,p(r[o]),1))]),_:2},1032,["field","header","class"]))),128)),a(m,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:u(({data:t,index:h})=>[a(w,{data:t,index:h,onEdit:r=>_.FormEdit(t),showDelete:!1},null,8,["data","index","onEdit"])]),_:1})]),_:1},8,["value","selection","onRowDblclick","filters"])])])])}const Z=C(B,[["render",J],["__scopeId","data-v-e43560ef"]]);export{Z as default};
