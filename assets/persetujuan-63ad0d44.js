import{_ as P,F as C,r as l,o as n,c as i,b as c,d as a,e as u,l as S,t as m,m as T,q as D,k as I,n as L,p as V,g as F}from"./index-11eb6111.js";import{a as N}from"./api-c6c36a80.js";const B={data(){return{item:null,selectedItem:null,lItem:[],selectedColumns:[{field:"tanggal",header:"Tanggal",type:"date"},{field:"nomor",header:"Nomor"},{field:"keterangan_pr",header:"Keterangan"},{field:"created_name",header:"Dibuat Oleh"},{field:"total",header:"Total",class:"text-right",type:"currency"},{field:"status_pr",header:"Status"}],Columns:[{field:"tanggal",header:"Tanggal",type:"date"},{field:"nomor",header:"Nomor"},{field:"keterangan_pr",header:"Keterangan"},{field:"created_name",header:"Dibuat Oleh"},{field:"total",header:"Total",class:"text-right",type:"currency"},{field:"status_pr",header:"Status"}],filter:!1,filters:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{async getData(){await N.getPersetujuan().then(e=>{this.lItem=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Failed",detail:e.response.data.message,life:3e3})})},showHideFilter(){this.filter=!this.filter},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:C.CONTAINS}}},FormEdit(e){this.$router.push({name:"pr.edit",params:{id:e.id}})},ondblclick(e){this.$router.push({name:"pr.edit",params:{id:e.data.id}})},confirmDelete(e){this.deleteDialog=!0,this.item={...e}}}},g=e=>(V("data-v-a16561f1"),e=e(),F(),e),R={class:"grid crud-demo"},j={class:"col-12"},E={class:"card"},M={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},q=g(()=>c("h5",{class:"m-0"},"Purchase Request Persetujuan",-1)),A={class:"block mt-2 md:mt-0 p-input-icon-left"},O=g(()=>c("i",{class:"pi pi-search"},null,-1)),K={key:0},U={key:1},z={key:2},H={key:3,class:"text-right"},$={key:4};function G(e,d,J,Q,s,_){const f=l("Toast"),y=l("MultiSelect"),v=l("InputText"),p=l("Column"),b=l("Button"),k=l("Tag"),w=l("ActionButton"),x=l("DataTable");return n(),i("div",R,[c("div",j,[c("div",E,[a(f),a(x,{ref:"dt",value:s.lItem,selection:s.selectedItem,"onUpdate:selection":d[2]||(d[2]=t=>s.selectedItem=t),dataKey:"id",paginator:!0,rows:10,"selection-mode":"single",onRowDblclick:_.ondblclick,filters:s.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Purchase request",responsiveLayout:"scroll"},{header:u(()=>[c("div",M,[q,a(y,{modelValue:s.selectedColumns,"onUpdate:modelValue":d[0]||(d[0]=t=>s.selectedColumns=t),options:s.Columns,optionLabel:"header",placeholder:"Select Column",class:"w-full md:w-20rem ml-auto"},null,8,["modelValue","options"]),c("span",A,[O,a(v,{modelValue:s.filters.global.value,"onUpdate:modelValue":d[1]||(d[1]=t=>s.filters.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:u(()=>[a(p,{header:"#",headerStyle:"width:10px"},{body:u(t=>[S(m(t.index+1),1)]),_:1}),(n(!0),i(T,null,D(s.selectedColumns,(t,h)=>(n(),I(p,{field:t.field,header:t.header,class:L(t.class),key:t.field+"_"+h,sortable:!0},{body:u(({data:r,field:o})=>[o=="icon"?(n(),i("div",K,[a(b,{icon:r[o],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):o=="status_pr"?(n(),i("div",U,[a(k,{value:e.$h.getLabel(r[o]),severity:e.$h.getLabel(r[o])},null,8,["value","severity"])])):o=="tanggal"?(n(),i("div",z,m(e.$h.formatDate(r[o])),1)):o=="total"?(n(),i("div",H,m(e.$h.formatNumber(r[o])),1)):(n(),i("div",$,m(r[o]),1))]),_:2},1032,["field","header","class"]))),128)),a(p,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:u(({data:t,index:h})=>[a(w,{data:t,index:h,onEdit:r=>_.FormEdit(t),showDelete:!1},null,8,["data","index","onEdit"])]),_:1})]),_:1},8,["value","selection","onRowDblclick","filters"])])])])}const Y=P(B,[["render",G],["__scopeId","data-v-a16561f1"]]);export{Y as default};
