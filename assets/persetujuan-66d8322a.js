import{_ as P,F as C,r as l,o as n,c as i,b as d,d as a,e as u,l as S,t as m,m as T,q as D,k as I,n as L,p as V,g as F}from"./index-11eb6111.js";import{a as N}from"./api-e3a7587b.js";const B={data(){return{item:null,selectedItem:null,lItem:[],selectedColumns:[{field:"tanggal",header:"Tanggal",type:"date"},{field:"nomor",header:"Nomor"},{field:"keterangan_pr",header:"Keterangan"},{field:"created_name",header:"Dibuat Oleh"},{field:"total",header:"Total",class:"text-right",type:"currency"},{field:"status_pr",header:"Status"}],Columns:[{field:"tanggal",header:"Tanggal",type:"date"},{field:"nomor",header:"Nomor"},{field:"keterangan_pr",header:"Keterangan"},{field:"created_name",header:"Dibuat Oleh"},{field:"total",header:"Total",class:"text-right",type:"currency"},{field:"status_pr",header:"Status"}],filter:!1,filters:{}}},created(){this.initFilters()},mounted(){this.getData()},methods:{async getData(){await N.getPersetujuan().then(e=>{this.lItem=e.data.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Failed",detail:e.response.data.message,life:3e3})})},showHideFilter(){this.filter=!this.filter},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:C.CONTAINS}}},FormEdit(e){this.$router.push({name:"quotation.edit",params:{id:e.id}})},ondblclick(e){this.$router.push({name:"quotation.edit",params:{id:e.data.id}})},confirmDelete(e){this.deleteDialog=!0,this.item={...e}}}},g=e=>(V("data-v-2da6182d"),e=e(),F(),e),R={class:"grid crud-demo"},j={class:"col-12"},q={class:"card"},E={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},M=g(()=>d("h5",{class:"m-0"},"Purchase Request Persetujuan",-1)),A={class:"flex gap-2 col-12 md:col-5"},O={class:"block p-input-icon-left w-full"},K=g(()=>d("i",{class:"pi pi-search"},null,-1)),U={key:0},z={key:1},H={key:2},$={key:3,class:"text-right"},G={key:4};function J(e,c,Q,W,o,_){const f=l("Toast"),v=l("InputText"),y=l("MultiSelect"),p=l("Column"),b=l("Button"),k=l("Tag"),w=l("ActionButton"),x=l("DataTable");return n(),i("div",R,[d("div",j,[d("div",q,[a(f),a(x,{ref:"dt",value:o.lItem,selection:o.selectedItem,"onUpdate:selection":c[2]||(c[2]=t=>o.selectedItem=t),dataKey:"id",paginator:!0,rows:10,"selection-mode":"single",onRowDblclick:_.ondblclick,filters:o.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Purchase request",responsiveLayout:"scroll"},{header:u(()=>[d("div",E,[M,d("div",A,[d("span",O,[K,a(v,{modelValue:o.filters.global.value,"onUpdate:modelValue":c[0]||(c[0]=t=>o.filters.global.value=t),placeholder:"Search...",class:"w-full"},null,8,["modelValue"])]),a(y,{modelValue:o.selectedColumns,"onUpdate:modelValue":c[1]||(c[1]=t=>o.selectedColumns=t),options:o.Columns,optionLabel:"header",placeholder:"Select Column",class:"w-3rem"},null,8,["modelValue","options"])])])]),default:u(()=>[a(p,{header:"#",headerStyle:"width:10px"},{body:u(t=>[S(m(t.index+1),1)]),_:1}),(n(!0),i(T,null,D(o.selectedColumns,(t,h)=>(n(),I(p,{field:t.field,header:t.header,class:L(t.class),key:t.field+"_"+h,sortable:!0},{body:u(({data:r,field:s})=>[s=="icon"?(n(),i("div",U,[a(b,{icon:r[s],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):s=="status_pr"?(n(),i("div",z,[a(k,{value:e.$h.getLabel(r[s]),severity:e.$h.getLabel(r[s])},null,8,["value","severity"])])):s=="tanggal"?(n(),i("div",H,m(e.$h.formatDate(r[s])),1)):s=="total"?(n(),i("div",$,m(e.$h.formatNumber(r[s])),1)):(n(),i("div",G,m(r[s]),1))]),_:2},1032,["field","header","class"]))),128)),a(p,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:u(({data:t,index:h})=>[a(w,{data:t,index:h,onEdit:r=>_.FormEdit(t),showDelete:!1},null,8,["data","index","onEdit"])]),_:1})]),_:1},8,["value","selection","onRowDblclick","filters"])])])])}const Z=P(B,[["render",J],["__scopeId","data-v-2da6182d"]]);export{Z as default};
