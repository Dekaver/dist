import{_ as w,F as C,r as a,o as n,c as i,b as d,d as s,e as u,l as x,t as m,m as P,q as S,k as T,n as L}from"./index-11eb6111.js";import{a as N}from"./api-917068af.js";const V={data(){return{item:null,selectedItem:null,lItem:[],deleteDialog:!1,selectedColumns:[{field:"nomor",header:"Nomor"},{field:"tanggal",header:"DO Date",type:"date"},{field:"customer",header:"Customer"},{field:"referensi",header:"No. Refrensi"},{field:"created_name",header:"Dibuat Oleh"},{field:"status_pr",header:"Status"}],Columns:[{field:"nomor",header:"Nomor"},{field:"tanggal",header:"DO Date",type:"date"},{field:"customer",header:"Customer"},{field:"referensi",header:"No. Refrensi"},{field:"created_name",header:"Dibuat Oleh"},{field:"status_pr",header:"Status"}],filter:!1,filters:{},f:{awal:null,akhir:null,selectedStatus:{label:"All",value:""}},statuses:[{label:"All",value:""},{label:"Draft",value:"D"},{label:"Open",value:"O"},{label:"Close",value:"C"},{label:"Partial",value:"P"}]}},created(){this.initFilters()},mounted(){this.getData()},computed:{},methods:{async getData(){await N.getPersetujuan().then(t=>{this.lItem=t.data.data}).catch(t=>{this.$toast.add({severity:"error",summary:"Failed",detail:t.response.data.message,life:3e3})})},showHideFilter(){this.filter=!this.filter},exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:C.CONTAINS}}},FormEdit(t){this.$router.push({name:"do.edit",params:{id:t.id}})},onRowDblclick(t){this.$router.push({name:"do.edit",params:{id:t.data.id}})},confirmDelete(t){this.deleteDialog=!0,this.item={...t}}}},F={class:"grid crud-demo"},O={class:"col-12"},R={class:"card"},I={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},B=d("h5",{class:"m-0"},"Delivery Order Persetujuan",-1),A={class:"flex gap-2 col-12 md:col-5 py-1"},E={class:"block p-input-icon-left w-full"},M=d("i",{class:"pi pi-search"},null,-1),j={key:0},U={key:1},q={key:2},z={key:3,class:"text-right"},H={key:4};function K(t,c,$,G,l,_){const f=a("Toast"),g=a("InputText"),v=a("MultiSelect"),h=a("Column"),b=a("Button"),y=a("Tag"),D=a("ActionButton"),k=a("DataTable");return n(),i("div",F,[d("div",O,[d("div",R,[s(f),s(k,{ref:"dt",value:l.lItem,selection:l.selectedItem,"onUpdate:selection":c[2]||(c[2]=e=>l.selectedItem=e),dataKey:"id",paginator:!0,rows:10,filters:l.filters,"selection-mode":"single",onRowDblclick:_.onRowDblclick,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Delivery order",responsiveLayout:"scroll"},{header:u(()=>[d("div",I,[B,d("div",A,[d("span",E,[M,s(g,{modelValue:l.filters.global.value,"onUpdate:modelValue":c[0]||(c[0]=e=>l.filters.global.value=e),placeholder:"Search...",class:"w-full"},null,8,["modelValue"])]),s(v,{modelValue:l.selectedColumns,"onUpdate:modelValue":c[1]||(c[1]=e=>l.selectedColumns=e),options:l.Columns,optionLabel:"header",placeholder:"Select Column",class:"w-3rem"},null,8,["modelValue","options"])])])]),default:u(()=>[s(h,{header:"#",headerStyle:"width:10px"},{body:u(e=>[x(m(e.index+1),1)]),_:1}),(n(!0),i(P,null,S(l.selectedColumns,(e,p)=>(n(),T(h,{field:e.field,header:e.header,class:L(e.class),key:e.field+"_"+p,sortable:!0},{body:u(({data:r,field:o})=>[o=="icon"?(n(),i("div",j,[s(b,{icon:r[o],class:"p-button-rounded p-button-outlined p-button-icon"},null,8,["icon"])])):o=="status_pr"?(n(),i("div",U,[s(y,{value:t.$h.getLabel(r[o]),severity:t.$h.getLabel(r[o])},null,8,["value","severity"])])):o=="tanggal"?(n(),i("div",q,m(t.$h.formatDate(r[o])),1)):o=="total"?(n(),i("div",z,m(t.$h.formatNumber(r[o])),1)):(n(),i("div",H,m(r[o]),1))]),_:2},1032,["field","header","class"]))),128)),s(h,{header:"Aksi",headerStyle:"width:6%; max-width:1rem;"},{body:u(({data:e,index:p})=>[s(D,{data:e,index:p,onEdit:r=>_.FormEdit(e)},null,8,["data","index","onEdit"])]),_:1})]),_:1},8,["value","selection","filters","onRowDblclick"])])])])}const W=w(V,[["render",K]]);export{W as default};
