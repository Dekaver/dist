import{_ as R,F as O,r as n,o as u,c as r,b as t,d as o,e as d,l as y,t as c,n as f,f as S,p as F,g as K}from"./index-11eb6111.js";import{P as j}from"./ProductService-0ec95d2b.js";const M={data(){return{products:null,checked:!0,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},isSubmitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],lproducts:null,editingRows:[]}},productService:null,created(){this.productService=new j,this.initFilters()},mounted(){this.productService.getProducts().then(i=>this.products=i),this.productService.getProducts().then(i=>this.lproducts=i)},methods:{FormNew(){this.product={},this.isSubmitted=!1,this.productDialog=!0},HideDialog(){this.productDialog=!1,this.isSubmitted=!1},saveProduct(){this.isSubmitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(i){this.product={...i},this.productDialog=!0},confirmDeleteProduct(i){this.product=i,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(i=>i.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(i){let s=-1;for(let _=0;_<this.products.length;_++)if(this.products[_].id===i){s=_;break}return s},createId(){let i="";for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_=0;_<5;_++)i+=s.charAt(Math.floor(Math.random()*s.length));return i},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(i=>!this.selectedProducts.includes(i)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:O.CONTAINS}}},onRowEditSave(i){let{newData:s,index:_}=i;this.products[_]=s},getStatusLabel(i){switch(i){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return null}}}},a=i=>(F("data-v-269c4d93"),i=i(),K(),i),B={class:"grid crud-demo"},A={class:"col-12"},E={class:"card"},q=a(()=>t("p",null,"samlekom",-1)),z={class:"my-2"},H={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},J=a(()=>t("h5",{class:"m-0"},"Manage Products",-1)),W={class:"block mt-2 md:mt-0 p-input-icon-left"},Y=a(()=>t("i",{class:"pi pi-search"},null,-1)),G=a(()=>t("span",{class:"p-column-title"},"Code",-1)),Q=a(()=>t("span",{class:"p-column-title"},"Name",-1)),X=a(()=>t("span",{class:"p-column-title"},"Image",-1)),Z=["src","alt"],$=a(()=>t("span",{class:"p-column-title"},"Price",-1)),ee=a(()=>t("span",{class:"p-column-title"},"Category",-1)),te=a(()=>t("span",{class:"p-column-title"},"Rating",-1)),oe=a(()=>t("span",{class:"p-column-title"},"Status",-1)),le={class:"formgrid grid"},se={class:"field col-6 d-flex justifiy-content-center align-items-end"},ie=a(()=>t("label",{for:"kodeproduk"},"Kode Produk",-1)),de={key:0,class:"p-invalid"},ae={class:"field col-6 d-flex justifiy-content-center align-items-end"},ne=a(()=>t("label",{for:"name"},"Nama",-1)),ue={key:0,class:"p-invalid"},re={class:"field col-6 d-flex justifiy-content-center align-items-end"},ce=a(()=>t("label",{for:"inventoryStatus",class:"mb-2"},"Kategori Produk",-1)),pe={key:0},me={key:1},he={key:2},_e={class:"field col-6 d-flex justifiy-content-center align-items-end"},ve=a(()=>t("label",{for:"inventoryStatus",class:"mb-2"},"Brand",-1)),fe={key:0},be={key:1},ge={key:2},ye={class:"field col-11 d-flex justifiy-content-center align-items-end mb-0"},Se=a(()=>t("label",{for:"inventoryStatus",class:"mb-2"},"Satuan Produk",-1)),ke={key:0},we={key:1},Ve={key:2},Ce={class:"col-1 pr-0 grid justifiy-content-center align-items-end"},xe={class:"w-full"},De={class:"col-12 my-4"},Pe={class:"field col-6 d-flex justifiy-content-center align-items-end"},Ue=a(()=>t("label",{for:"name"},"Harga Jual",-1)),Ie={class:"field col-6 d-flex justifiy-content-center align-items-end"},Te=a(()=>t("label",{for:"name"},"Harga Beli",-1)),Ne={class:"field col-12"},Le=a(()=>t("label",{for:"description"},"Deskripi",-1)),Re={class:"col-6"},Oe={class:""},Fe=a(()=>t("span",{id:"switch1",style:{position:"relative",bottom:"8px",left:"8px"}},"Lacak Persediaan Stok",-1)),Ke={class:"col-6"},je={class:""},Me=a(()=>t("span",{id:"switch2",style:{position:"relative",bottom:"8px",left:"8px"}},"Aktif",-1)),Be=["src","alt"],Ae={class:"flex align-items-center justify-content-center"},Ee=a(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),qe={key:0},ze={class:"flex align-items-center justify-content-center"},He=a(()=>t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Je={key:0};function We(i,s,_,Ye,l,v){const P=n("Toast"),h=n("Button"),U=n("FileUpload"),I=n("Toolbar"),b=n("InputText"),p=n("Column"),T=n("Rating"),V=n("DataTable"),k=n("Dropdown"),C=n("InputNumber"),N=n("Textarea"),x=n("InputSwitch"),D=n("TabPanel"),L=n("TabView"),w=n("Dialog");return u(),r("div",B,[t("div",A,[t("div",E,[o(P),q,o(I,{class:"mb-4"},{start:d(()=>[t("div",z,[o(h,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:v.FormNew},null,8,["onClick"]),o(h,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:v.confirmDeleteSelected,disabled:!l.selectedProducts||!l.selectedProducts.length},null,8,["onClick","disabled"])])]),end:d(()=>[o(U,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),o(h,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:s[0]||(s[0]=e=>v.exportCSV(e))})]),_:1}),o(V,{ref:"dt",value:l.products,selection:l.selectedProducts,"onUpdate:selection":s[2]||(s[2]=e=>l.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:l.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d(()=>[t("div",H,[J,t("span",W,[Y,o(b,{modelValue:l.filters.global.value,"onUpdate:modelValue":s[1]||(s[1]=e=>l.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[o(p,{selectionMode:"multiple",headerStyle:"width: 3rem"}),o(p,{field:"code",header:"Code",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[G,y(" "+c(e.data.code),1)]),_:1}),o(p,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[Q,y(" "+c(e.data.name),1)]),_:1}),o(p,{header:"Image",headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[X,t("img",{src:"demo/images/product/"+e.data.image,alt:e.data.image,class:"shadow-2",width:"100"},null,8,Z)]),_:1}),o(p,{field:"price",header:"Price",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:d(e=>[$,y(" "+c(i.$h.formatNumber(e.data.price)),1)]),_:1}),o(p,{field:"category",header:"Category",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[ee,y(" "+c(i.$h.formatNumber(e.data.category)),1)]),_:1}),o(p,{field:"rating",header:"Reviews",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[te,o(T,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])]),_:1}),o(p,{field:"inventoryStatus",header:"Status",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[oe,t("span",{class:f("product-badge status-"+(e.data.inventoryStatus?e.data.inventoryStatus.toLowerCase():""))},c(e.data.inventoryStatus),3)]),_:1}),o(p,{headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[o(h,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:m=>v.editProduct(e.data)},null,8,["onClick"]),o(h,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:m=>v.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),o(w,{visible:l.productDialog,"onUpdate:visible":s[14]||(s[14]=e=>l.productDialog=e),style:{width:"600px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:d(()=>[o(h,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:v.HideDialog},null,8,["onClick"]),o(h,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:v.saveProduct},null,8,["onClick"])]),default:d(()=>[o(L,null,{default:d(()=>[o(D,{header:"Informasi Produk"},{default:d(()=>[t("div",le,[t("div",se,[ie,o(b,{id:"kodeproduk",modelValue:l.product.kodeproduk,"onUpdate:modelValue":s[3]||(s[3]=e=>l.product.kodeproduk=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:f({"p-invalid":l.isSubmitted&&!l.product.kodeproduk})},null,8,["modelValue","class"]),l.isSubmitted&&!l.product.kodeproduk?(u(),r("small",de,"Kode Produk is required.")):S("",!0)]),t("div",ae,[ne,o(b,{id:"name",modelValue:l.product.name,"onUpdate:modelValue":s[4]||(s[4]=e=>l.product.name=e),modelModifiers:{trim:!0},required:"true",class:f({"p-invalid":l.isSubmitted&&!l.product.name})},null,8,["modelValue","class"]),l.isSubmitted&&!l.product.name?(u(),r("small",ue,"Name is required.")):S("",!0)]),t("div",re,[ce,o(k,{id:"inventoryStatus",modelValue:l.product.inventoryStatus,"onUpdate:modelValue":s[5]||(s[5]=e=>l.product.inventoryStatus=e),options:l.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(u(),r("div",pe,[t("span",{class:f("product-badge status-"+e.value.value)},c(e.value.label),3)])):e.value&&!e.value.value?(u(),r("div",me,[t("span",{class:f("product-badge status-"+e.value.toLowerCase())},c(e.value),3)])):(u(),r("span",he,c(e.placeholder),1))]),_:1},8,["modelValue","options"])]),t("div",_e,[ve,o(k,{id:"inventoryStatus",modelValue:l.product.inventoryStatus,"onUpdate:modelValue":s[6]||(s[6]=e=>l.product.inventoryStatus=e),options:l.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(u(),r("div",fe,[t("span",{class:f("product-badge status-"+e.value.value)},c(e.value.label),3)])):e.value&&!e.value.value?(u(),r("div",be,[t("span",{class:f("product-badge status-"+e.value.toLowerCase())},c(e.value),3)])):(u(),r("span",ge,c(e.placeholder),1))]),_:1},8,["modelValue","options"])]),t("div",ye,[Se,o(k,{id:"inventoryStatus",modelValue:l.product.inventoryStatus,"onUpdate:modelValue":s[7]||(s[7]=e=>l.product.inventoryStatus=e),options:l.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(u(),r("div",ke,[t("span",{class:f("product-badge status-"+e.value.value)},c(e.value.label),3)])):e.value&&!e.value.value?(u(),r("div",we,[t("span",{class:f("product-badge status-"+e.value.toLowerCase())},c(e.value),3)])):(u(),r("span",Ve,c(e.placeholder),1))]),_:1},8,["modelValue","options"])]),t("div",Ce,[t("div",xe,[o(h,{icon:"pi pi-box",class:"p-button w-full p-button-block"})])]),t("div",De,[o(V,{editingRows:l.editingRows,"onUpdate:editingRows":s[8]||(s[8]=e=>l.editingRows=e),value:l.lproducts,editMode:"row",dataKey:"id",onRowEditSave:v.onRowEditSave,tableClass:"editable-cells-table"},{default:d(()=>[o(p,{field:"Jumlah",header:"Jumlah",style:{width:"5%"}},{editor:d(({data:e,field:m})=>[o(b,{modelValue:e[m],"onUpdate:modelValue":g=>e[m]=g},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(p,{field:"Satuan Ukur",header:"Satuan Ukur",style:{width:"10%"}},{editor:d(({data:e,field:m})=>[o(b,{modelValue:e[m],"onUpdate:modelValue":g=>e[m]=g},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(p,{field:"Nilai",header:"Nilai",style:{width:"10%"}},{editor:d(({data:e,field:m})=>[o(b,{modelValue:e[m],"onUpdate:modelValue":g=>e[m]=g},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(p,{field:"Satuan Ukur",header:"Satuan Ukur",style:{width:"10%"}},{editor:d(({data:e,field:m})=>[o(b,{modelValue:e[m],"onUpdate:modelValue":g=>e[m]=g},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(p,{field:"Action",header:"Action",rowEditor:!0,style:{width:"5%"},bodyStyle:"text-align:center"})]),_:1},8,["editingRows","value","onRowEditSave"])]),t("div",Pe,[Ue,o(C,{modelValue:i.value1,"onUpdate:modelValue":s[9]||(s[9]=e=>i.value1=e),inputId:"integeronly"},null,8,["modelValue"])]),t("div",Ie,[Te,o(C,{modelValue:i.value1,"onUpdate:modelValue":s[10]||(s[10]=e=>i.value1=e),inputId:"integeronly"},null,8,["modelValue"])]),t("div",Ne,[Le,o(N,{id:"description",modelValue:l.product.description,"onUpdate:modelValue":s[11]||(s[11]=e=>l.product.description=e),required:"true",rows:"3"},null,8,["modelValue"])]),t("div",Re,[t("div",Oe,[o(x,{modelValue:l.checked,"onUpdate:modelValue":s[12]||(s[12]=e=>l.checked=e),"aria-labelledby":"switch1"},null,8,["modelValue"]),Fe])]),t("div",Ke,[t("div",je,[o(x,{modelValue:l.checked,"onUpdate:modelValue":s[13]||(s[13]=e=>l.checked=e),"aria-labelledby":"switch2"},null,8,["modelValue"]),Me])])])]),_:1}),o(D,{header:"Gambar"},{default:d(()=>[l.product.image?(u(),r("img",{key:0,src:"demo/images/product/"+l.product.image,alt:l.product.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,Be)):S("",!0)]),_:1})]),_:1})]),_:1},8,["visible"]),o(w,{visible:l.deleteProductDialog,"onUpdate:visible":s[16]||(s[16]=e=>l.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[o(h,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[15]||(s[15]=e=>l.deleteProductDialog=!1)}),o(h,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:v.deleteProduct},null,8,["onClick"])]),default:d(()=>[t("div",Ae,[Ee,l.product?(u(),r("span",qe,[y("Are you sure you want to delete "),t("b",null,c(l.product.name),1),y("?")])):S("",!0)])]),_:1},8,["visible"]),o(w,{visible:l.deleteProductsDialog,"onUpdate:visible":s[18]||(s[18]=e=>l.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[o(h,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[17]||(s[17]=e=>l.deleteProductsDialog=!1)}),o(h,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:v.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[t("div",ze,[He,l.product?(u(),r("span",Je,"Are you sure you want to delete the selected products?")):S("",!0)])]),_:1},8,["visible"])])])])}const Xe=R(M,[["render",We],["__scopeId","data-v-269c4d93"]]);export{Xe as default};
