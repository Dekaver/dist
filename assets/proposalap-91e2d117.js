import{_ as C,F as V,r as c,o as m,c as _,b as t,d as o,e as l,n as f,t as i,l as u,p as T,g as x}from"./index-11eb6111.js";import{P as N}from"./ProductService-0ec95d2b.js";const D={data(){return{periodeawal:null,periodeakhir:null,products:null,product:{},selectedProducts:null,filters:{},statuses:[{label:"Semua",value:"Semua"},{label:"Belum Diposting",value:"Belum Diposting"},{label:"Sudah Diposting",value:"Sudah Diposting"}],lproducts:null}},productService:null,created(){this.productService=new N,this.initFilters()},mounted(){this.productService.getProducts().then(s=>this.products=s),this.productService.getProducts().then(s=>this.lproducts=s)},methods:{exportCSV(){this.$refs.dt.exportCSV()},initFilters(){this.filters={global:{value:null,matchMode:V.CONTAINS}}}}},n=s=>(T("data-v-cedf9483"),s=s(),x(),s),I={class:"grid crud-demo"},L={class:"col-12"},B={class:"card"},F={class:"my-2"},R={class:"card"},M=n(()=>t("h5",{class:"mbe-4"},"Pencarian Proposal",-1)),U={class:"p-fluid formgrid grid"},q={class:"field col-2"},O={class:"p-float-label"},A=n(()=>t("p",{class:"mb-1"},"Periode Awal",-1)),j={class:"field col-2"},E={class:"p-float-label"},z=n(()=>t("p",{class:"mb-1"},"Periode Akhir",-1)),K={class:"field col-2 d-flex justifiy-content-center align-items-end mb-0"},G=n(()=>t("label",{for:"salesquotation",class:"mb-1"},"Status",-1)),H={key:0},J={key:1},Q={key:2},W={class:"field col-auto",style:{display:"flex","align-items":"flex-end","align-content":"flex-end"}},X={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},Y=n(()=>t("h5",{class:"m-0"},"Management Payment Proposal",-1)),Z={class:"block mt-2 md:mt-0 p-input-icon-left"},$=n(()=>t("i",{class:"pi pi-search"},null,-1)),ee=n(()=>t("span",{class:"p-column-title"},"Nomor",-1)),te=n(()=>t("span",{class:"p-column-title"},"Tanggal",-1)),oe=n(()=>t("span",{class:"p-column-title"},"Nomor PO",-1)),le=n(()=>t("span",{class:"p-column-title"},"Supplier",-1)),se=n(()=>t("span",{class:"p-column-title"},"Refrensi",-1)),ae=n(()=>t("span",{class:"p-column-title"},"Total",-1)),ne=n(()=>t("span",{class:"p-column-title"},"Status",-1));function de(s,d,ie,re,a,v){const g=c("Toast"),p=c("Button"),h=c("router-link"),y=c("Toolbar"),b=c("Calendar"),S=c("Dropdown"),k=c("InputText"),r=c("Column"),P=c("DataTable");return m(),_("div",I,[t("div",L,[t("div",B,[o(g),o(y,{class:"mb-4"},{start:l(()=>[t("div",F,[o(h,{to:"proposalapadd",class:"btn btn-added me-2"},{default:l(()=>[o(p,{label:"Tambah",icon:"pi pi-plus",class:"p-button-primary mr-2"})]),_:1})])]),end:l(()=>[o(p,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:d[0]||(d[0]=e=>v.exportCSV(e))})]),_:1}),t("div",R,[M,t("div",U,[t("div",q,[t("span",O,[A,o(b,{dateFormat:"dd-mm-yy",modelValue:a.periodeawal,"onUpdate:modelValue":d[1]||(d[1]=e=>a.periodeawal=e),inputId:"periodeawal"},null,8,["modelValue"])])]),t("div",j,[t("span",E,[z,o(b,{dateFormat:"dd-mm-yy",modelValue:a.periodeakhir,"onUpdate:modelValue":d[2]||(d[2]=e=>a.periodeakhir=e),inputId:"periodeakhir"},null,8,["modelValue"])])]),t("div",K,[G,o(S,{id:"salesquotation",modelValue:a.product.salesquotation,"onUpdate:modelValue":d[3]||(d[3]=e=>a.product.salesquotation=e),options:a.statuses,optionLabel:"label",placeholder:"Status"},{value:l(e=>[e.value&&e.value.value?(m(),_("div",H,[t("span",{class:f("product-badge status-"+e.value.value)},i(e.value.label),3)])):e.value&&!e.value.value?(m(),_("div",J,[t("span",{class:f("product-badge status-"+e.value.toLowerCase())},i(e.value),3)])):(m(),_("span",Q,i(e.placeholder),1))]),_:1},8,["modelValue","options"])]),t("div",W,[o(p,{label:"Search"})])])]),o(P,{ref:"dt",value:a.products,selection:a.selectedProducts,"onUpdate:selection":d[5]||(d[5]=e=>a.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:a.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll",tableStyle:"table-layout:auto"},{header:l(()=>[t("div",X,[Y,t("span",Z,[$,o(k,{modelValue:a.filters.global.value,"onUpdate:modelValue":d[4]||(d[4]=e=>a.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:l(()=>[o(r,{selectionMode:"multiple"}),o(r,{field:"nomor",header:"Nomor",sortable:!0},{body:l(e=>[ee,u(" "+i(e.data.invoicenumber),1)]),_:1}),o(r,{field:"date",header:"Tanggal",sortable:!0},{body:l(e=>[te,u(" "+i(e.data.date),1)]),_:1}),o(r,{field:"nomorpo",header:"Nomor PO",sortable:!0},{body:l(e=>[oe,u(" "+i(e.data.nomorpo),1)]),_:1}),o(r,{field:"supplier",header:"Supplier",sortable:!0},{body:l(e=>[le,u(" "+i(s.$h.formatNumber(e.data.supplier)),1)]),_:1}),o(r,{field:"refrensi",header:"Refrensi",sortable:!0},{body:l(e=>[se,u(" "+i(s.$h.formatNumber(e.data.refrensi)),1)]),_:1}),o(r,{field:"total",header:"Total",sortable:!0},{body:l(e=>[ae,u(" "+i(s.$h.formatNumber(e.data.total)),1)]),_:1}),o(r,{field:"inventoryStatus",header:"Status",sortable:!0},{body:l(e=>[ne,u(" "+i(s.$h.formatNumber(e.data.total)),1)]),_:1}),o(r,null,{body:l(e=>[o(h,{to:"proposalapadd",class:"btn btn-added me-2"},{default:l(()=>[o(p,{icon:"pi pi-pencil",class:"p-button-rounded p-button-warning mr-2",onClick:w=>s.editProduct(e.data)},null,8,["onClick"])]),_:2},1024),o(p,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger",onClick:w=>s.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"])])])])}const pe=C(D,[["render",de],["__scopeId","data-v-cedf9483"]]);export{pe as default};
